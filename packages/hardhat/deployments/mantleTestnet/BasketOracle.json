{
  "address": "0x5Ae0d275185A6388b3485Ba439FC5FD387778dec",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_basketRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "AssetAlreadyRegistered",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "AssetPriceNotAvailable",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BasketDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "requiredFee",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "providedFee",
          "type": "uint256"
        }
      ],
      "name": "InsufficientUpdateFee",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "InvalidPriceFeedId",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MntPriceNotSet",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroPrice",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "oldPriceFeedId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "newPriceFeedId",
          "type": "bytes32"
        }
      ],
      "name": "AssetPriceFeedUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "priceFeedId",
          "type": "bytes32"
        }
      ],
      "name": "AssetRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "MntPriceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "assetPriceFeedIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "basketRegistry",
      "outputs": [
        {
          "internalType": "contract BasketRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string[]",
          "name": "assetIds",
          "type": "string[]"
        },
        {
          "internalType": "bytes32[]",
          "name": "priceFeedIds",
          "type": "bytes32[]"
        }
      ],
      "name": "batchSetAssetPriceFeeds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllRegisteredAssets",
      "outputs": [
        {
          "internalType": "string[]",
          "name": "",
          "type": "string[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "getAssetPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "getAssetPriceDebug",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "scaledPrice",
          "type": "uint256"
        },
        {
          "internalType": "int64",
          "name": "rawPrice",
          "type": "int64"
        },
        {
          "internalType": "int32",
          "name": "expo",
          "type": "int32"
        },
        {
          "internalType": "uint64",
          "name": "conf",
          "type": "uint64"
        },
        {
          "internalType": "uint256",
          "name": "publishTime",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basketId",
          "type": "uint256"
        }
      ],
      "name": "getBasketPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "usdValue",
          "type": "uint256"
        }
      ],
      "name": "getMntFromUsdValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "mntAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "mntAmount",
          "type": "uint256"
        }
      ],
      "name": "getMntValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "usdValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes[]",
          "name": "priceUpdate",
          "type": "bytes[]"
        }
      ],
      "name": "getPythUpdateFee",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getRegisteredAssetCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "isAssetRegistered",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "mntUsdPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pyth",
      "outputs": [
        {
          "internalType": "contract IPyth",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "priceFeedId",
          "type": "bytes32"
        }
      ],
      "name": "registerAsset",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registeredAssets",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "priceFeedId",
          "type": "bytes32"
        }
      ],
      "name": "setAssetPriceFeed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "setMntPrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes[]",
          "name": "priceUpdate",
          "type": "bytes[]"
        }
      ],
      "name": "updatePriceFeeds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "feePaid",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basketId",
          "type": "uint256"
        }
      ],
      "name": "validateBasketPrices",
      "outputs": [
        {
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "missingAsset",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x4d73dea35a54924ae0029b4ebf7008b072bf14bd7a7036d6f4c7094db5eedb99",
  "receipt": {
    "to": null,
    "from": "0x2d34A0133f43d807574eC7807d77A17f67e68B48",
    "contractAddress": "0x5Ae0d275185A6388b3485Ba439FC5FD387778dec",
    "transactionIndex": 1,
    "gasUsed": "9077683525",
    "logsBloom": "0x00000000000000000000000000000000000000000000010000800000000000000000000000000000000000000000000000800000000000000000000000000000000000040000000000000000000000000001800000000000000000000000000000000000020000000000000000000800000000000000000000000000000000400000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000010000000000000000000000000000000000000000",
    "blockHash": "0x1d26266818d2587d82a2fcd8ea04c66e6d8289887a3fb9ca7fc9f98f2d09b073",
    "transactionHash": "0x4d73dea35a54924ae0029b4ebf7008b072bf14bd7a7036d6f4c7094db5eedb99",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 33322880,
        "transactionHash": "0x4d73dea35a54924ae0029b4ebf7008b072bf14bd7a7036d6f4c7094db5eedb99",
        "address": "0x5Ae0d275185A6388b3485Ba439FC5FD387778dec",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000002d34a0133f43d807574ec7807d77a17f67e68b48"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0x1d26266818d2587d82a2fcd8ea04c66e6d8289887a3fb9ca7fc9f98f2d09b073"
      }
    ],
    "blockNumber": 33322880,
    "cumulativeGasUsed": "9077738766",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x3C3d0E397065839e9d01a90bE04d01632062356C"
  ],
  "numDeployments": 5,
  "solcInputHash": "87ff0b67ec37ad5a4d01cd6ace11a953",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_basketRegistry\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"AssetAlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"AssetPriceNotAvailable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BasketDoesNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"requiredFee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"providedFee\",\"type\":\"uint256\"}],\"name\":\"InsufficientUpdateFee\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"InvalidPriceFeedId\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MntPriceNotSet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroPrice\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"oldPriceFeedId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"newPriceFeedId\",\"type\":\"bytes32\"}],\"name\":\"AssetPriceFeedUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"priceFeedId\",\"type\":\"bytes32\"}],\"name\":\"AssetRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"MntPriceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"assetPriceFeedIds\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"basketRegistry\",\"outputs\":[{\"internalType\":\"contract BasketRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string[]\",\"name\":\"assetIds\",\"type\":\"string[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"priceFeedIds\",\"type\":\"bytes32[]\"}],\"name\":\"batchSetAssetPriceFeeds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllRegisteredAssets\",\"outputs\":[{\"internalType\":\"string[]\",\"name\":\"\",\"type\":\"string[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"getAssetPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"getAssetPriceDebug\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"scaledPrice\",\"type\":\"uint256\"},{\"internalType\":\"int64\",\"name\":\"rawPrice\",\"type\":\"int64\"},{\"internalType\":\"int32\",\"name\":\"expo\",\"type\":\"int32\"},{\"internalType\":\"uint64\",\"name\":\"conf\",\"type\":\"uint64\"},{\"internalType\":\"uint256\",\"name\":\"publishTime\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"basketId\",\"type\":\"uint256\"}],\"name\":\"getBasketPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"usdValue\",\"type\":\"uint256\"}],\"name\":\"getMntFromUsdValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"mntAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"mntAmount\",\"type\":\"uint256\"}],\"name\":\"getMntValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"usdValue\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes[]\",\"name\":\"priceUpdate\",\"type\":\"bytes[]\"}],\"name\":\"getPythUpdateFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRegisteredAssetCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"isAssetRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mntUsdPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pyth\",\"outputs\":[{\"internalType\":\"contract IPyth\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"priceFeedId\",\"type\":\"bytes32\"}],\"name\":\"registerAsset\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"registeredAssets\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"priceFeedId\",\"type\":\"bytes32\"}],\"name\":\"setAssetPriceFeed\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"setMntPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes[]\",\"name\":\"priceUpdate\",\"type\":\"bytes[]\"}],\"name\":\"updatePriceFeeds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"feePaid\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"basketId\",\"type\":\"uint256\"}],\"name\":\"validateBasketPrices\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"missingAsset\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This is the CORE INNOVATION of EquiBaskets.      Unlike single-asset oracles that just return a price, this oracle      COMPUTES FINANCIAL MEANING by:      1. Reading basket composition from BasketRegistry      2. Fetching price for each underlying asset      3. Computing weighted average basket price      Asset prices are pulled from Pyth price feeds (configured per asset).       All prices are stored and returned in 1e18 format.      For example, $100 = 100 * 1e18 = 100000000000000000000       The MNT/USD price is also stored here for collateral valuation.\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"batchSetAssetPriceFeeds(string[],bytes32[])\":{\"params\":{\"assetIds\":\"Array of asset identifiers\",\"priceFeedIds\":\"Array of Pyth price feed identifiers\"}},\"constructor\":{\"params\":{\"_basketRegistry\":\"Address of the BasketRegistry contract\"}},\"getAllRegisteredAssets()\":{\"returns\":{\"_0\":\"Array of asset identifier strings\"}},\"getAssetPrice(string)\":{\"params\":{\"assetId\":\"Asset identifier\"},\"returns\":{\"price\":\"Asset price in 1e18 USD format\"}},\"getAssetPriceDebug(string)\":{\"params\":{\"assetId\":\"Asset identifier\"},\"returns\":{\"conf\":\"Confidence interval\",\"expo\":\"Pyth exponent\",\"publishTime\":\"Oracle publish time\",\"rawPrice\":\"Raw Pyth price\",\"scaledPrice\":\"Price scaled to 1e18\"}},\"getBasketPrice(uint256)\":{\"details\":\"This is the CORE function of EquiBaskets oracle.      It computes the basket price by:      1. Reading composition from BasketRegistry      2. Fetching price for each asset      3. Computing weighted average: sum(price[i] * weight[i]) / 10000\",\"params\":{\"basketId\":\"The basket ID to get price for\"},\"returns\":{\"price\":\"Basket price in 1e18 USD format\"}},\"getMntFromUsdValue(uint256)\":{\"params\":{\"usdValue\":\"USD value in 1e18 format\"},\"returns\":{\"mntAmount\":\"MNT amount in 1e18 format\"}},\"getMntValue(uint256)\":{\"params\":{\"mntAmount\":\"Amount of MNT tokens (in 1e18)\"},\"returns\":{\"usdValue\":\"USD value in 1e18 format\"}},\"getPythUpdateFee(bytes[])\":{\"params\":{\"priceUpdate\":\"Pyth price update data blob(s) fetched off-chain\"}},\"getRegisteredAssetCount()\":{\"returns\":{\"_0\":\"Count of registered assets\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"registerAsset(string,bytes32)\":{\"params\":{\"assetId\":\"Asset identifier (e.g., \\\"AAPL\\\", \\\"GOLD\\\")\",\"priceFeedId\":\"Pyth price feed identifier\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setAssetPriceFeed(string,bytes32)\":{\"params\":{\"assetId\":\"Asset identifier\",\"priceFeedId\":\"New Pyth price feed identifier\"}},\"setMntPrice(uint256)\":{\"params\":{\"newPrice\":\"New MNT/USD price in 1e18 format\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"updatePriceFeeds(bytes[])\":{\"details\":\"Callers must provide at least the required fee; any excess is refunded.\",\"params\":{\"priceUpdate\":\"Encoded price update payload(s) from Pyth Hermes\"},\"returns\":{\"feePaid\":\"The fee forwarded to Pyth\"}},\"validateBasketPrices(uint256)\":{\"params\":{\"basketId\":\"The basket ID to check\"},\"returns\":{\"missingAsset\":\"The first missing asset (if any)\",\"valid\":\"True if all asset prices are available\"}}},\"stateVariables\":{\"mntUsdPrice\":{\"details\":\"Used for calculating collateral value in the vault\"}},\"title\":\"BasketOracle\",\"version\":1},\"userdoc\":{\"errors\":{\"AssetAlreadyRegistered(string)\":[{\"notice\":\"Thrown when asset is already registered\"}],\"AssetPriceNotAvailable(string)\":[{\"notice\":\"Thrown when asset price is not available\"}],\"BasketDoesNotExist()\":[{\"notice\":\"Thrown when basket doesn't exist\"}],\"InsufficientUpdateFee(uint256,uint256)\":[{\"notice\":\"Thrown when insufficient fee is provided to update Pyth price feeds\"}],\"InvalidPriceFeedId(string)\":[{\"notice\":\"Thrown when a price feed id is missing or invalid\"}],\"MntPriceNotSet()\":[{\"notice\":\"Thrown when MNT price is not set\"}],\"ZeroPrice()\":[{\"notice\":\"Thrown when price is zero\"}]},\"events\":{\"AssetPriceFeedUpdated(string,bytes32,bytes32)\":{\"notice\":\"Emitted when an asset price feed is updated\"},\"AssetRegistered(string,bytes32)\":{\"notice\":\"Emitted when a new asset is registered\"},\"MntPriceUpdated(uint256,uint256)\":{\"notice\":\"Emitted when MNT/USD price is updated\"}},\"kind\":\"user\",\"methods\":{\"assetPriceFeedIds(string)\":{\"notice\":\"Mapping from asset identifier to Pyth price feed id\"},\"basketRegistry()\":{\"notice\":\"Reference to the BasketRegistry for reading composition\"},\"batchSetAssetPriceFeeds(string[],bytes32[])\":{\"notice\":\"Batch update multiple asset price feeds\"},\"constructor\":{\"notice\":\"Initialize the BasketOracle with a registry reference\"},\"getAllRegisteredAssets()\":{\"notice\":\"Get all registered asset identifiers\"},\"getAssetPrice(string)\":{\"notice\":\"Get individual asset price\"},\"getAssetPriceDebug(string)\":{\"notice\":\"Debug helper to inspect raw Pyth data and scaled price\"},\"getBasketPrice(uint256)\":{\"notice\":\"Get the weighted price of a basket\"},\"getMntFromUsdValue(uint256)\":{\"notice\":\"Get the MNT amount equivalent to a USD value\"},\"getMntValue(uint256)\":{\"notice\":\"Get MNT to USD value\"},\"getPythUpdateFee(bytes[])\":{\"notice\":\"Calculate the fee required to update Pyth price feeds for given updates\"},\"getRegisteredAssetCount()\":{\"notice\":\"Get the number of registered assets\"},\"isAssetRegistered(string)\":{\"notice\":\"Mapping to check if an asset is registered\"},\"mntUsdPrice()\":{\"notice\":\"MNT/USD price in 1e18 format\"},\"registerAsset(string,bytes32)\":{\"notice\":\"Register a new asset with its price feed\"},\"registeredAssets(uint256)\":{\"notice\":\"List of all registered asset identifiers\"},\"setAssetPriceFeed(string,bytes32)\":{\"notice\":\"/**Update the price feed of an asset\"},\"setMntPrice(uint256)\":{\"notice\":\"Update MNT/USD price\"},\"updatePriceFeeds(bytes[])\":{\"notice\":\"Push fresh Pyth price updates on-chain so subsequent reads succeed\"},\"validateBasketPrices(uint256)\":{\"notice\":\"Check if a basket has all required asset prices\"}},\"notice\":\"Oracle for computing basket prices from individual asset prices\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/BasketOracle.sol\":\"BasketOracle\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The initial owner is set to the address provided by the deployer. This can\\n * later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    /**\\n     * @dev The caller account is not authorized to perform an operation.\\n     */\\n    error OwnableUnauthorizedAccount(address account);\\n\\n    /**\\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\\n     */\\n    error OwnableInvalidOwner(address owner);\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\\n     */\\n    constructor(address initialOwner) {\\n        if (initialOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(initialOwner);\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        if (owner() != _msgSender()) {\\n            revert OwnableUnauthorizedAccount(_msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        if (newOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\"},\"@pythnetwork/pyth-sdk-solidity/IPyth.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\npragma solidity ^0.8.0;\\n\\nimport \\\"./PythStructs.sol\\\";\\nimport \\\"./IPythEvents.sol\\\";\\n\\n/// @title Consume prices from the Pyth Network (https://pyth.network/).\\n/// @dev Please refer to the guidance at https://docs.pyth.network/documentation/pythnet-price-feeds/best-practices for how to consume prices safely.\\n/// @author Pyth Data Association\\ninterface IPyth is IPythEvents {\\n    /// @notice Returns the price of a price feed without any sanity checks.\\n    /// @dev This function returns the most recent price update in this contract without any recency checks.\\n    /// This function is unsafe as the returned price update may be arbitrarily far in the past.\\n    ///\\n    /// Users of this function should check the `publishTime` in the price to ensure that the returned price is\\n    /// sufficiently recent for their application. If you are considering using this function, it may be\\n    /// safer / easier to use `getPriceNoOlderThan`.\\n    /// @return price - please read the documentation of PythStructs.Price to understand how to use this safely.\\n    function getPriceUnsafe(\\n        bytes32 id\\n    ) external view returns (PythStructs.Price memory price);\\n\\n    /// @notice Returns the price that is no older than `age` seconds of the current time.\\n    /// @dev This function is a sanity-checked version of `getPriceUnsafe` which is useful in\\n    /// applications that require a sufficiently-recent price. Reverts if the price wasn't updated sufficiently\\n    /// recently.\\n    /// @return price - please read the documentation of PythStructs.Price to understand how to use this safely.\\n    function getPriceNoOlderThan(\\n        bytes32 id,\\n        uint age\\n    ) external view returns (PythStructs.Price memory price);\\n\\n    /// @notice Returns the exponentially-weighted moving average price of a price feed without any sanity checks.\\n    /// @dev This function returns the same price as `getEmaPrice` in the case where the price is available.\\n    /// However, if the price is not recent this function returns the latest available price.\\n    ///\\n    /// The returned price can be from arbitrarily far in the past; this function makes no guarantees that\\n    /// the returned price is recent or useful for any particular application.\\n    ///\\n    /// Users of this function should check the `publishTime` in the price to ensure that the returned price is\\n    /// sufficiently recent for their application. If you are considering using this function, it may be\\n    /// safer / easier to use either `getEmaPrice` or `getEmaPriceNoOlderThan`.\\n    /// @return price - please read the documentation of PythStructs.Price to understand how to use this safely.\\n    function getEmaPriceUnsafe(\\n        bytes32 id\\n    ) external view returns (PythStructs.Price memory price);\\n\\n    /// @notice Returns the exponentially-weighted moving average price that is no older than `age` seconds\\n    /// of the current time.\\n    /// @dev This function is a sanity-checked version of `getEmaPriceUnsafe` which is useful in\\n    /// applications that require a sufficiently-recent price. Reverts if the price wasn't updated sufficiently\\n    /// recently.\\n    /// @return price - please read the documentation of PythStructs.Price to understand how to use this safely.\\n    function getEmaPriceNoOlderThan(\\n        bytes32 id,\\n        uint age\\n    ) external view returns (PythStructs.Price memory price);\\n\\n    /// @notice Update price feeds with given update messages.\\n    /// This method requires the caller to pay a fee in wei; the required fee can be computed by calling\\n    /// `getUpdateFee` with the length of the `updateData` array.\\n    /// Prices will be updated if they are more recent than the current stored prices.\\n    /// The call will succeed even if the update is not the most recent.\\n    /// @dev Reverts if the transferred fee is not sufficient or the updateData is invalid.\\n    /// @param updateData Array of price update data.\\n    function updatePriceFeeds(bytes[] calldata updateData) external payable;\\n\\n    /// @notice Wrapper around updatePriceFeeds that rejects fast if a price update is not necessary. A price update is\\n    /// necessary if the current on-chain publishTime is older than the given publishTime. It relies solely on the\\n    /// given `publishTimes` for the price feeds and does not read the actual price update publish time within `updateData`.\\n    ///\\n    /// This method requires the caller to pay a fee in wei; the required fee can be computed by calling\\n    /// `getUpdateFee` with the length of the `updateData` array.\\n    ///\\n    /// `priceIds` and `publishTimes` are two arrays with the same size that correspond to senders known publishTime\\n    /// of each priceId when calling this method. If all of price feeds within `priceIds` have updated and have\\n    /// a newer or equal publish time than the given publish time, it will reject the transaction to save gas.\\n    /// Otherwise, it calls updatePriceFeeds method to update the prices.\\n    ///\\n    /// @dev Reverts if update is not needed or the transferred fee is not sufficient or the updateData is invalid.\\n    /// @param updateData Array of price update data.\\n    /// @param priceIds Array of price ids.\\n    /// @param publishTimes Array of publishTimes. `publishTimes[i]` corresponds to known `publishTime` of `priceIds[i]`\\n    function updatePriceFeedsIfNecessary(\\n        bytes[] calldata updateData,\\n        bytes32[] calldata priceIds,\\n        uint64[] calldata publishTimes\\n    ) external payable;\\n\\n    /// @notice Returns the required fee to update an array of price updates.\\n    /// @param updateData Array of price update data.\\n    /// @return feeAmount The required fee in Wei.\\n    function getUpdateFee(\\n        bytes[] calldata updateData\\n    ) external view returns (uint feeAmount);\\n\\n    /// @notice Returns the required fee to update a TWAP price.\\n    /// @param updateData Array of price update data.\\n    /// @return feeAmount The required fee in Wei.\\n    function getTwapUpdateFee(\\n        bytes[] calldata updateData\\n    ) external view returns (uint feeAmount);\\n\\n    /// @notice Parse `updateData` and return price feeds of the given `priceIds` if they are all published\\n    /// within `minPublishTime` and `maxPublishTime`.\\n    ///\\n    /// You can use this method if you want to use a Pyth price at a fixed time and not the most recent price;\\n    /// otherwise, please consider using `updatePriceFeeds`. This method will not store the price updates on-chain.\\n    ///\\n    /// This method requires the caller to pay a fee in wei; the required fee can be computed by calling\\n    /// `getUpdateFee` with the length of the `updateData` array.\\n    ///\\n    ///\\n    /// @dev Reverts if the transferred fee is not sufficient or the updateData is invalid or there is\\n    /// no update for any of the given `priceIds` within the given time range.\\n    /// @param updateData Array of price update data.\\n    /// @param priceIds Array of price ids.\\n    /// @param minPublishTime minimum acceptable publishTime for the given `priceIds`.\\n    /// @param maxPublishTime maximum acceptable publishTime for the given `priceIds`.\\n    /// @return priceFeeds Array of the price feeds corresponding to the given `priceIds` (with the same order).\\n    function parsePriceFeedUpdates(\\n        bytes[] calldata updateData,\\n        bytes32[] calldata priceIds,\\n        uint64 minPublishTime,\\n        uint64 maxPublishTime\\n    ) external payable returns (PythStructs.PriceFeed[] memory priceFeeds);\\n\\n    /// @notice Parse `updateData` and return price feeds of the given `priceIds` if they are all published\\n    /// within `minPublishTime` and `maxPublishTime,` but choose to store price updates if `storeUpdatesIfFresh`.\\n    ///\\n    /// You can use this method if you want to use a Pyth price at a fixed time and not the most recent price;\\n    /// otherwise, please consider using `updatePriceFeeds`. This method may store the price updates on-chain, if they\\n    /// are more recent than the current stored prices.\\n    ///\\n    /// This method requires the caller to pay a fee in wei; the required fee can be computed by calling\\n    /// `getUpdateFee` with the length of the `updateData` array.\\n    ///\\n    /// This method will eventually allow the caller to determine whether parsed price feeds should update\\n    /// the stored values as well.\\n    ///\\n    /// @dev Reverts if the transferred fee is not sufficient or the updateData is invalid or there is\\n    /// no update for any of the given `priceIds` within the given time range.\\n    /// @param updateData Array of price update data.\\n    /// @param priceIds Array of price ids.\\n    /// @param minAllowedPublishTime minimum acceptable publishTime for the given `priceIds`.\\n    /// @param maxAllowedPublishTime maximum acceptable publishTime for the given `priceIds`.\\n    /// @param storeUpdatesIfFresh flag for the parse function to\\n    /// @return priceFeeds Array of the price feeds corresponding to the given `priceIds` (with the same order).\\n    function parsePriceFeedUpdatesWithConfig(\\n        bytes[] calldata updateData,\\n        bytes32[] calldata priceIds,\\n        uint64 minAllowedPublishTime,\\n        uint64 maxAllowedPublishTime,\\n        bool checkUniqueness,\\n        bool checkUpdateDataIsMinimal,\\n        bool storeUpdatesIfFresh\\n    )\\n        external\\n        payable\\n        returns (\\n            PythStructs.PriceFeed[] memory priceFeeds,\\n            uint64[] memory slots\\n        );\\n\\n    /// @notice Parse time-weighted average price (TWAP) from two consecutive price updates for the given `priceIds`.\\n    ///\\n    /// This method calculates TWAP between two data points by processing the difference in cumulative price values\\n    /// divided by the time period. It requires exactly two updates that contain valid price information\\n    /// for all the requested price IDs.\\n    ///\\n    /// This method requires the caller to pay a fee in wei; the required fee can be computed by calling\\n    /// `getUpdateFee` with the updateData array.\\n    ///\\n    /// @dev Reverts if:\\n    /// - The transferred fee is not sufficient\\n    /// - The updateData is invalid or malformed\\n    /// - The updateData array does not contain exactly 2 updates\\n    /// - There is no update for any of the given `priceIds`\\n    /// - The time ordering between data points is invalid (start time must be before end time)\\n    /// @param updateData Array containing exactly two price updates (start and end points for TWAP calculation)\\n    /// @param priceIds Array of price ids to calculate TWAP for\\n    /// @return twapPriceFeeds Array of TWAP price feeds corresponding to the given `priceIds` (with the same order)\\n    function parseTwapPriceFeedUpdates(\\n        bytes[] calldata updateData,\\n        bytes32[] calldata priceIds\\n    )\\n        external\\n        payable\\n        returns (PythStructs.TwapPriceFeed[] memory twapPriceFeeds);\\n\\n    /// @notice Similar to `parsePriceFeedUpdates` but ensures the updates returned are\\n    /// the first updates published in minPublishTime. That is, if there are multiple updates for a given timestamp,\\n    /// this method will return the first update. This method may store the price updates on-chain, if they\\n    /// are more recent than the current stored prices.\\n    ///\\n    ///\\n    /// @dev Reverts if the transferred fee is not sufficient or the updateData is invalid or there is\\n    /// no update for any of the given `priceIds` within the given time range and uniqueness condition.\\n    /// @param updateData Array of price update data.\\n    /// @param priceIds Array of price ids.\\n    /// @param minPublishTime minimum acceptable publishTime for the given `priceIds`.\\n    /// @param maxPublishTime maximum acceptable publishTime for the given `priceIds`.\\n    /// @return priceFeeds Array of the price feeds corresponding to the given `priceIds` (with the same order).\\n    function parsePriceFeedUpdatesUnique(\\n        bytes[] calldata updateData,\\n        bytes32[] calldata priceIds,\\n        uint64 minPublishTime,\\n        uint64 maxPublishTime\\n    ) external payable returns (PythStructs.PriceFeed[] memory priceFeeds);\\n}\\n\",\"keccak256\":\"0xdd07c2c02083b3cbb23f40608c15c5531f59014955216fc7f513926e01c8b70b\",\"license\":\"Apache-2.0\"},\"@pythnetwork/pyth-sdk-solidity/IPythEvents.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\npragma solidity ^0.8.0;\\n\\n/// @title IPythEvents contains the events that Pyth contract emits.\\n/// @dev This interface can be used for listening to the updates for off-chain and testing purposes.\\ninterface IPythEvents {\\n    /// @dev Emitted when the price feed with `id` has received a fresh update.\\n    /// @param id The Pyth Price Feed ID.\\n    /// @param publishTime Publish time of the given price update.\\n    /// @param price Price of the given price update.\\n    /// @param conf Confidence interval of the given price update.\\n    event PriceFeedUpdate(\\n        bytes32 indexed id,\\n        uint64 publishTime,\\n        int64 price,\\n        uint64 conf\\n    );\\n\\n    /// @dev Emitted when the TWAP price feed with `id` has received a fresh update.\\n    /// @param id The Pyth Price Feed ID.\\n    /// @param startTime Start time of the TWAP.\\n    /// @param endTime End time of the TWAP.\\n    /// @param twapPrice Price of the TWAP.\\n    /// @param twapConf Confidence interval of the TWAP.\\n    /// @param downSlotsRatio Down slot ratio of the TWAP.\\n    event TwapPriceFeedUpdate(\\n        bytes32 indexed id,\\n        uint64 startTime,\\n        uint64 endTime,\\n        int64 twapPrice,\\n        uint64 twapConf,\\n        uint32 downSlotsRatio\\n    );\\n}\\n\",\"keccak256\":\"0xd67239becd2c39bd9d065830be24e70606f5747ab31b8818bea849d09ac17ddc\",\"license\":\"Apache-2.0\"},\"@pythnetwork/pyth-sdk-solidity/PythStructs.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\npragma solidity ^0.8.0;\\n\\ncontract PythStructs {\\n    // A price with a degree of uncertainty, represented as a price +- a confidence interval.\\n    //\\n    // The confidence interval roughly corresponds to the standard error of a normal distribution.\\n    // Both the price and confidence are stored in a fixed-point numeric representation,\\n    // `x * (10^expo)`, where `expo` is the exponent.\\n    //\\n    // Please refer to the documentation at https://docs.pyth.network/documentation/pythnet-price-feeds/best-practices for how\\n    // to how this price safely.\\n    struct Price {\\n        // Price\\n        int64 price;\\n        // Confidence interval around the price\\n        uint64 conf;\\n        // Price exponent\\n        int32 expo;\\n        // Unix timestamp describing when the price was published\\n        uint publishTime;\\n    }\\n\\n    // PriceFeed represents a current aggregate price from pyth publisher feeds.\\n    struct PriceFeed {\\n        // The price ID.\\n        bytes32 id;\\n        // Latest available price\\n        Price price;\\n        // Latest available exponentially-weighted moving average price\\n        Price emaPrice;\\n    }\\n\\n    struct TwapPriceFeed {\\n        // The price ID.\\n        bytes32 id;\\n        // Start time of the TWAP\\n        uint64 startTime;\\n        // End time of the TWAP\\n        uint64 endTime;\\n        // TWAP price\\n        Price twap;\\n        // Down slot ratio represents the ratio of price feed updates that were missed or unavailable\\n        // during the TWAP period, expressed as a fixed-point number between 0 and 1e6 (100%).\\n        // For example:\\n        //   - 0 means all price updates were available\\n        //   - 500_000 means 50% of updates were missed\\n        //   - 1_000_000 means all updates were missed\\n        // This can be used to assess the quality/reliability of the TWAP calculation.\\n        // Applications should define a maximum acceptable ratio (e.g. 100000 for 10%)\\n        // and revert if downSlotsRatio exceeds it.\\n        uint32 downSlotsRatio;\\n    }\\n\\n    // Information used to calculate time-weighted average prices (TWAP)\\n    struct TwapPriceInfo {\\n        // slot 1\\n        int128 cumulativePrice;\\n        uint128 cumulativeConf;\\n        // slot 2\\n        uint64 numDownSlots;\\n        uint64 publishSlot;\\n        uint64 publishTime;\\n        uint64 prevPublishTime;\\n        // slot 3\\n        int32 expo;\\n    }\\n}\\n\",\"keccak256\":\"0x474436bf0d558cc9b2c00a9d0ce318147acdf7963f34ef4acadb9248e65bbc7b\",\"license\":\"Apache-2.0\"},\"contracts/BasketOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\n\\nimport \\\"@pythnetwork/pyth-sdk-solidity/IPyth.sol\\\";\\nimport \\\"@pythnetwork/pyth-sdk-solidity/PythStructs.sol\\\";\\n\\nimport \\\"./BasketRegistry.sol\\\";\\n\\n/**\\n * @title BasketOracle\\n * @notice Oracle for computing basket prices from individual asset prices\\n * @dev This is the CORE INNOVATION of EquiBaskets.\\n *      Unlike single-asset oracles that just return a price, this oracle\\n *      COMPUTES FINANCIAL MEANING by:\\n *      1. Reading basket composition from BasketRegistry\\n *      2. Fetching price for each underlying asset\\n *      3. Computing weighted average basket price\\n *\\n *      Asset prices are pulled from Pyth price feeds (configured per asset).\\n * \\n *      All prices are stored and returned in 1e18 format.\\n *      For example, $100 = 100 * 1e18 = 100000000000000000000\\n * \\n *      The MNT/USD price is also stored here for collateral valuation.\\n */\\ncontract BasketOracle is Ownable {\\n    // ============================================================\\n    // ========================== STATE ===========================\\n    // ============================================================\\n    \\n    /// @notice Reference to the BasketRegistry for reading composition\\n    BasketRegistry public immutable basketRegistry;\\n    \\n    /// @notice Mapping from asset identifier to Pyth price feed id\\n    mapping(string => bytes32) public assetPriceFeedIds;\\n    \\n    /// @notice List of all registered asset identifiers\\n    string[] public registeredAssets;\\n    \\n    /// @notice Mapping to check if an asset is registered\\n    mapping(string => bool) public isAssetRegistered;\\n    \\n    /// @notice MNT/USD price in 1e18 format\\n    /// @dev Used for calculating collateral value in the vault\\n    uint256 public mntUsdPrice;\\n\\n    IPyth public pyth;\\n    \\n    // ============================================================\\n    // ========================= EVENTS ===========================\\n    // ============================================================\\n    \\n    /// @notice Emitted when an asset price feed is updated\\n    event AssetPriceFeedUpdated(string indexed assetId, bytes32 oldPriceFeedId, bytes32 newPriceFeedId);\\n    \\n    /// @notice Emitted when MNT/USD price is updated\\n    event MntPriceUpdated(uint256 oldPrice, uint256 newPrice);\\n    \\n    /// @notice Emitted when a new asset is registered\\n    event AssetRegistered(string assetId, bytes32 priceFeedId);\\n    \\n    // ============================================================\\n    // ========================= ERRORS ===========================\\n    // ============================================================\\n    \\n    /// @notice Thrown when basket doesn't exist\\n    error BasketDoesNotExist();\\n    \\n    /// @notice Thrown when asset price is not available\\n    error AssetPriceNotAvailable(string assetId);\\n    \\n    /// @notice Thrown when MNT price is not set\\n    error MntPriceNotSet();\\n    \\n    /// @notice Thrown when price is zero\\n    error ZeroPrice();\\n    \\n    /// @notice Thrown when asset is already registered\\n    error AssetAlreadyRegistered(string assetId);\\n\\n    /// @notice Thrown when a price feed id is missing or invalid\\n    error InvalidPriceFeedId(string assetId);\\n\\n    /// @notice Thrown when insufficient fee is provided to update Pyth price feeds\\n    error InsufficientUpdateFee(uint256 requiredFee, uint256 providedFee);\\n\\n    // ============================================================\\n    // ====================== CONSTRUCTOR =========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Initialize the BasketOracle with a registry reference\\n     * @param _basketRegistry Address of the BasketRegistry contract\\n     */\\n    constructor(address _basketRegistry) Ownable(msg.sender) {\\n        basketRegistry = BasketRegistry(_basketRegistry);\\n        \\n        // Initialize with Pyth price feed ids for supported assets\\n        _registerAssetWithPriceFeed(\\\"AAPL\\\", 0x49f6b65cb1de6b10eaf75e7c03ca029c306d0357e91b5311b175084a5ad55688);\\n        _registerAssetWithPriceFeed(\\\"NVDA\\\", 0xb1073854ed24cbc755dc527418f52b7d271f6cc967bbf8d8129112b18860a593);\\n        // _registerAssetWithPriceFeed(\\\"GOLD\\\", 0x765d2ba906dbc32ca17cc11f5310a89e9ee1f6420508c63861f2f8ba4ee34bb2);\\n        // _registerAssetWithPriceFeed(\\\"SILVER\\\", 0xf2fb02c32b055c805e7238d628e5e9dadef274376114eb1f012337cabe93871e);\\n        _registerAssetWithPriceFeed(\\\"GOLD\\\", 0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43);\\n        _registerAssetWithPriceFeed(\\\"SILVER\\\", 0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43);\\n        _registerAssetWithPriceFeed(\\\"HITACHI\\\", 0xd0ca23c1cc005e004ccf1db5bf76aeb6a49218f43dac3d4b275e92de12ded4d1);\\n        _registerAssetWithPriceFeed(\\\"MSFT\\\", 0xd0ca23c1cc005e004ccf1db5bf76aeb6a49218f43dac3d4b275e92de12ded4d1);\\n        _registerAssetWithPriceFeed(\\\"GOOGL\\\", 0x5a48c03e9b9cb337801073ed9d166817473697efff0d138874e0f6a33d6d5aa6);\\n        _registerAssetWithPriceFeed(\\\"AMZN\\\", 0xb5d0e0fa58a1f8b81498ae670ce93c872d14434b72c364885d4fa1b257cbb07a);\\n        _registerAssetWithPriceFeed(\\\"TSLA\\\", 0x16dad506d7db8da01c87581c87ca897a012a153557d4d578c3b9c9e1bc0632f1);\\n        _registerAssetWithPriceFeed(\\\"BTC\\\", 0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43);\\n        \\n        // Initialize MNT price (example: $0.50)\\n        mntUsdPrice = 5 * 1e17; // 0.5 * 1e18\\n\\n        pyth = IPyth(0x98046Bd286715D3B0BC227Dd7a956b83D8978603);\\n    }\\n\\n    // ============================================================\\n    // ================== INTERNAL FUNCTIONS ======================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Internal function to register an asset with its price feed\\n     * @param assetId Asset identifier\\n     * @param priceFeedId Pyth price feed identifier\\n     */\\n    function _registerAssetWithPriceFeed(string memory assetId, bytes32 priceFeedId) internal {\\n        assetPriceFeedIds[assetId] = priceFeedId;\\n        registeredAssets.push(assetId);\\n        isAssetRegistered[assetId] = true;\\n    }\\n\\n    // ============================================================\\n    // =================== ADMIN FUNCTIONS ========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Register a new asset with its price feed\\n     * @param assetId Asset identifier (e.g., \\\"AAPL\\\", \\\"GOLD\\\")\\n     * @param priceFeedId Pyth price feed identifier\\n     */\\n    function registerAsset(string calldata assetId, bytes32 priceFeedId) external onlyOwner {\\n        if (isAssetRegistered[assetId]) revert AssetAlreadyRegistered(assetId);\\n        if (priceFeedId == bytes32(0)) revert InvalidPriceFeedId(assetId);\\n        \\n        _registerAssetWithPriceFeed(assetId, priceFeedId);\\n        \\n        emit AssetRegistered(assetId, priceFeedId);\\n    }\\n    \\n    /**\\n    /**\\n     * @notice Update the price feed of an asset\\n     * @param assetId Asset identifier\\n     * @param priceFeedId New Pyth price feed identifier\\n     */\\n    function setAssetPriceFeed(string calldata assetId, bytes32 priceFeedId) external onlyOwner {\\n        if (priceFeedId == bytes32(0)) revert InvalidPriceFeedId(assetId);\\n        \\n        bytes32 oldPriceFeedId = assetPriceFeedIds[assetId];\\n        assetPriceFeedIds[assetId] = priceFeedId;\\n        \\n        // Auto-register if not already registered\\n        if (!isAssetRegistered[assetId]) {\\n            registeredAssets.push(assetId);\\n            isAssetRegistered[assetId] = true;\\n            emit AssetRegistered(assetId, priceFeedId);\\n        }\\n        \\n        emit AssetPriceFeedUpdated(assetId, oldPriceFeedId, priceFeedId);\\n    }\\n    \\n    /**\\n     * @notice Update MNT/USD price\\n     * @param newPrice New MNT/USD price in 1e18 format\\n     */\\n    function setMntPrice(uint256 newPrice) external onlyOwner {\\n        if (newPrice == 0) revert ZeroPrice();\\n        \\n        uint256 oldPrice = mntUsdPrice;\\n        mntUsdPrice = newPrice;\\n        \\n        emit MntPriceUpdated(oldPrice, newPrice);\\n    }\\n    \\n    /**\\n     * @notice Batch update multiple asset price feeds\\n     * @param assetIds Array of asset identifiers\\n     * @param priceFeedIds Array of Pyth price feed identifiers\\n     */\\n    function batchSetAssetPriceFeeds(\\n        string[] calldata assetIds,\\n        bytes32[] calldata priceFeedIds\\n    ) external onlyOwner {\\n        require(assetIds.length == priceFeedIds.length, \\\"Array length mismatch\\\");\\n        \\n        for (uint256 i = 0; i < assetIds.length; i++) {\\n            if (priceFeedIds[i] == bytes32(0)) revert InvalidPriceFeedId(assetIds[i]);\\n            \\n            bytes32 oldPriceFeedId = assetPriceFeedIds[assetIds[i]];\\n            assetPriceFeedIds[assetIds[i]] = priceFeedIds[i];\\n            \\n            if (!isAssetRegistered[assetIds[i]]) {\\n                registeredAssets.push(assetIds[i]);\\n                isAssetRegistered[assetIds[i]] = true;\\n                emit AssetRegistered(assetIds[i], priceFeedIds[i]);\\n            }\\n            \\n            emit AssetPriceFeedUpdated(assetIds[i], oldPriceFeedId, priceFeedIds[i]);\\n        }\\n    }\\n\\n    // ============================================================\\n    // ================= CORE PRICING FUNCTIONS ===================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Get the weighted price of a basket\\n     * @dev This is the CORE function of EquiBaskets oracle.\\n     *      It computes the basket price by:\\n     *      1. Reading composition from BasketRegistry\\n     *      2. Fetching price for each asset\\n     *      3. Computing weighted average: sum(price[i] * weight[i]) / 10000\\n     * @param basketId The basket ID to get price for\\n     * @return price Basket price in 1e18 USD format\\n     */\\n    function getBasketPrice(uint256 basketId) external view returns (uint256 price) {\\n        // Verify basket exists\\n        if (!basketRegistry.basketExists(basketId)) revert BasketDoesNotExist();\\n        \\n        // Get basket composition\\n        (string[] memory assets, uint256[] memory weights) = basketRegistry.getBasketComposition(basketId);\\n        \\n        // Calculate weighted price\\n        // Sum of (asset_price * weight) / 10000\\n        // Using 1e18 precision throughout\\n        uint256 weightedSum = 0;\\n        \\n        for (uint256 i = 0; i < assets.length; i++) {\\n            uint256 assetPrice = _getAssetPrice(assets[i]);\\n            \\n            // Accumulate weighted price\\n            // assetPrice is in 1e18, weight is in basis points (0-10000)\\n            weightedSum += assetPrice * weights[i];\\n        }\\n        \\n        // Divide by 10000 to get final price in 1e18 format\\n        price = weightedSum / 10000;\\n    }\\n    \\n    /**\\n     * @notice Get individual asset price\\n     * @param assetId Asset identifier\\n     * @return price Asset price in 1e18 USD format\\n     */\\n    function getAssetPrice(string calldata assetId) external view returns (uint256 price) {\\n        price = _getAssetPrice(assetId);\\n    }\\n\\n    /**\\n     * @notice Debug helper to inspect raw Pyth data and scaled price\\n     * @param assetId Asset identifier\\n     * @return scaledPrice Price scaled to 1e18\\n     * @return rawPrice Raw Pyth price\\n     * @return expo Pyth exponent\\n     * @return conf Confidence interval\\n     * @return publishTime Oracle publish time\\n     */\\n    function getAssetPriceDebug(string calldata assetId) external view returns (\\n        uint256 scaledPrice,\\n        int64 rawPrice,\\n        int32 expo,\\n        uint64 conf,\\n        uint publishTime\\n    ) {\\n        bytes32 priceFeedId = assetPriceFeedIds[assetId];\\n        if (priceFeedId == bytes32(0)) revert AssetPriceNotAvailable(assetId);\\n\\n        PythStructs.Price memory priceInfo = pyth.getPriceNoOlderThan(priceFeedId, 60);\\n        rawPrice = priceInfo.price;\\n        expo = priceInfo.expo;\\n        conf = priceInfo.conf;\\n        publishTime = priceInfo.publishTime;\\n\\n        if (rawPrice <= 0) revert AssetPriceNotAvailable(assetId);\\n\\n        int32 power = expo + 18;\\n        int256 scaled;\\n        if (power >= 0) {\\n            scaled = int256(rawPrice) * (int256(10) ** uint256(uint32(power)));\\n        } else {\\n            scaled = int256(rawPrice) / (int256(10) ** uint256(uint32(-power)));\\n        }\\n\\n        if (scaled <= 0) revert AssetPriceNotAvailable(assetId);\\n        scaledPrice = uint256(scaled);\\n    }\\n    \\n    /**\\n     * @notice Get MNT to USD value\\n     * @param mntAmount Amount of MNT tokens (in 1e18)\\n     * @return usdValue USD value in 1e18 format\\n     */\\n    function getMntValue(uint256 mntAmount) external view returns (uint256 usdValue) {\\n        if (mntUsdPrice == 0) revert MntPriceNotSet();\\n        // Both mntAmount and mntUsdPrice are in 1e18\\n        // Result needs to be in 1e18, so divide by 1e18\\n        usdValue = (mntAmount * mntUsdPrice) / 1e18;\\n    }\\n    \\n    /**\\n     * @notice Get the MNT amount equivalent to a USD value\\n     * @param usdValue USD value in 1e18 format\\n     * @return mntAmount MNT amount in 1e18 format\\n     */\\n    function getMntFromUsdValue(uint256 usdValue) external view returns (uint256 mntAmount) {\\n        if (mntUsdPrice == 0) revert MntPriceNotSet();\\n        // Inverse of getMntValue\\n        mntAmount = (usdValue * 1e18) / mntUsdPrice;\\n    }\\n\\n    /**\\n     * @notice Calculate the fee required to update Pyth price feeds for given updates\\n     * @param priceUpdate Pyth price update data blob(s) fetched off-chain\\n     */\\n    function getPythUpdateFee(bytes[] calldata priceUpdate) external view returns (uint256) {\\n        return pyth.getUpdateFee(priceUpdate);\\n    }\\n\\n    /**\\n     * @notice Push fresh Pyth price updates on-chain so subsequent reads succeed\\n     * @dev Callers must provide at least the required fee; any excess is refunded.\\n     * @param priceUpdate Encoded price update payload(s) from Pyth Hermes\\n     * @return feePaid The fee forwarded to Pyth\\n     */\\n    function updatePriceFeeds(bytes[] calldata priceUpdate) external payable returns (uint256 feePaid) {\\n        feePaid = pyth.getUpdateFee(priceUpdate);\\n        if (msg.value < feePaid) revert InsufficientUpdateFee(feePaid, msg.value);\\n\\n        pyth.updatePriceFeeds{value: feePaid}(priceUpdate);\\n\\n        if (msg.value > feePaid) {\\n            (bool ok, ) = payable(msg.sender).call{value: msg.value - feePaid}(\\\"\\\");\\n            require(ok, \\\"Refund failed\\\");\\n        }\\n    }\\n\\n    // ============================================================\\n    // ==================== VIEW FUNCTIONS ========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Get all registered asset identifiers\\n     * @return Array of asset identifier strings\\n     */\\n    function getAllRegisteredAssets() external view returns (string[] memory) {\\n        return registeredAssets;\\n    }\\n    \\n    /**\\n     * @notice Get the number of registered assets\\n     * @return Count of registered assets\\n     */\\n    function getRegisteredAssetCount() external view returns (uint256) {\\n        return registeredAssets.length;\\n    }\\n    \\n    /**\\n     * @notice Check if a basket has all required asset prices\\n     * @param basketId The basket ID to check\\n     * @return valid True if all asset prices are available\\n     * @return missingAsset The first missing asset (if any)\\n     */\\n    function validateBasketPrices(uint256 basketId) external view returns (\\n        bool valid,\\n        string memory missingAsset\\n    ) {\\n        if (!basketRegistry.basketExists(basketId)) revert BasketDoesNotExist();\\n        \\n        (string[] memory assets, ) = basketRegistry.getBasketComposition(basketId);\\n        \\n        for (uint256 i = 0; i < assets.length; i++) {\\n            if (assetPriceFeedIds[assets[i]] == bytes32(0)) {\\n                return (false, assets[i]);\\n            }\\n        }\\n        \\n        return (true, \\\"\\\");\\n    }\\n\\n    // ============================================================\\n    // ================== INTERNAL VIEW HELPERS ===================\\n    // ============================================================\\n\\n    /**\\n     * @notice Resolve a Pyth price feed into a 1e18 scaled USD price\\n     * @param assetId Asset identifier\\n     * @return price Price scaled to 1e18\\n     */\\n    function _getAssetPrice(string memory assetId) internal view returns (uint256 price) {\\n        bytes32 priceFeedId = assetPriceFeedIds[assetId];\\n        if (priceFeedId == bytes32(0)) revert AssetPriceNotAvailable(assetId);\\n\\n        PythStructs.Price memory priceInfo = pyth.getPriceNoOlderThan(priceFeedId, 60);\\n\\n        int256 rawPrice = int256(priceInfo.price);\\n        int32 expo = priceInfo.expo; // price = rawPrice * 10^expo\\n\\n        if (rawPrice <= 0) revert AssetPriceNotAvailable(assetId);\\n\\n        int32 power = expo + 18;\\n        int256 scaled;\\n        if (power >= 0) {\\n            scaled = rawPrice * (int256(10) ** uint256(uint32(power)));\\n        } else {\\n            scaled = rawPrice / (int256(10) ** uint256(uint32(-power)));\\n        }\\n\\n        if (scaled <= 0) revert AssetPriceNotAvailable(assetId);\\n        price = uint256(scaled);\\n    }\\n}\\n\",\"keccak256\":\"0x3cde91ce9ad9068f3a5313ec9893e11f5b73fa81c495d790a98b18129eff9ef0\",\"license\":\"MIT\"},\"contracts/BasketRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title BasketRegistry\\r\\n * @notice Registry for basket-based synthetic assets\\r\\n * @dev This contract is the canonical on-chain source of truth for basket composition.\\r\\n *      It stores basket metadata including:\\r\\n *      - Asset composition (list of asset identifiers)\\r\\n *      - Weights (in basis points, must sum to 10000)\\r\\n *      - Creator address (fund creator role)\\r\\n *      - Activation state\\r\\n * \\r\\n *      IMPORTANT: This contract is pure metadata storage.\\r\\n *      No pricing logic should exist here - that belongs in BasketOracle.\\r\\n * \\r\\n *      The basketId is a unique identifier assigned sequentially to each basket.\\r\\n *      Asset identifiers are strings (e.g., \\\"AAPL\\\", \\\"GOLD\\\", \\\"NVDA\\\") that are used\\r\\n *      by the BasketOracle to look up prices.\\r\\n */\\r\\ncontract BasketRegistry is Ownable {\\r\\n    // ============================================================\\r\\n    // ====================== DATA STRUCTURES =====================\\r\\n    // ============================================================\\r\\n    \\r\\n    /**\\r\\n     * @notice Represents a basket of synthetic assets\\r\\n     * @param creator Address of the fund creator who created this basket\\r\\n     * @param assets List of asset identifiers (e.g., [\\\"AAPL\\\", \\\"NVDA\\\", \\\"GOLD\\\"])\\r\\n     * @param weights Weight of each asset in basis points (must sum to 10000)\\r\\n     * @param active Whether this basket is active for minting/trading\\r\\n     * @param name Human-readable name for the basket\\r\\n     * @param symbol Token symbol for the basket token\\r\\n     */\\r\\n    struct Basket {\\r\\n        address creator;\\r\\n        string[] assets;\\r\\n        uint256[] weights;\\r\\n        bool active;\\r\\n        string name;\\r\\n        string symbol;\\r\\n    }\\r\\n\\r\\n    // ============================================================\\r\\n    // ========================== STATE ===========================\\r\\n    // ============================================================\\r\\n    \\r\\n    /// @notice Counter for generating unique basket IDs\\r\\n    uint256 public basketCount;\\r\\n    \\r\\n    /// @notice Mapping from basket ID to basket data\\r\\n    mapping(uint256 => Basket) private baskets;\\r\\n    \\r\\n    /// @notice Mapping from basket creator to list of their basket IDs\\r\\n    mapping(address => uint256[]) public creatorBaskets;\\r\\n    \\r\\n    // ============================================================\\r\\n    // ========================= EVENTS ===========================\\r\\n    // ============================================================\\r\\n    \\r\\n    /// @notice Emitted when a new basket is created\\r\\n    /// @dev Full basket details can be queried via getBasket(basketId)\\r\\n    event BasketCreated(\\r\\n        uint256 indexed basketId,\\r\\n        address indexed creator,\\r\\n        uint256 assetCount\\r\\n    );\\r\\n    \\r\\n    /// @notice Emitted when a basket's active state changes\\r\\n    event BasketActiveStateChanged(uint256 indexed basketId, bool active);\\r\\n    \\r\\n    // ============================================================\\r\\n    // ========================= ERRORS ===========================\\r\\n    // ============================================================\\r\\n    \\r\\n    /// @notice Thrown when assets and weights arrays have different lengths\\r\\n    error ArrayLengthMismatch();\\r\\n    \\r\\n    /// @notice Thrown when assets array is empty\\r\\n    error EmptyAssetsArray();\\r\\n    \\r\\n    /// @notice Thrown when weights don't sum to 10000 basis points\\r\\n    error InvalidWeightsSum();\\r\\n    \\r\\n    /// @notice Thrown when a weight is zero\\r\\n    error ZeroWeight();\\r\\n    \\r\\n    /// @notice Thrown when basket doesn't exist\\r\\n    error BasketDoesNotExist();\\r\\n    \\r\\n    /// @notice Thrown when caller is not the basket creator\\r\\n    error NotBasketCreator();\\r\\n\\r\\n    // ============================================================\\r\\n    // ====================== CONSTRUCTOR =========================\\r\\n    // ============================================================\\r\\n    \\r\\n    constructor() Ownable(msg.sender) {\\r\\n        // BasketRegistry starts with basketCount = 0\\r\\n        // First basket created will have basketId = 1\\r\\n    }\\r\\n\\r\\n    // ============================================================\\r\\n    // =================== EXTERNAL FUNCTIONS =====================\\r\\n    // ============================================================\\r\\n    \\r\\n    /**\\r\\n     * @notice Create a new basket with specified assets and weights\\r\\n     * @dev Only callable by anyone (fund creator role).\\r\\n     *      Weights must sum to 10000 basis points (100%).\\r\\n     *      Each weight must be non-zero.\\r\\n     * @param assets Array of asset identifiers\\r\\n     * @param weights Array of weights in basis points\\r\\n     * @param name Human-readable name for the basket\\r\\n     * @param symbol Token symbol for the basket\\r\\n     * @return basketId The unique ID assigned to the new basket\\r\\n     */\\r\\n    function createBasket(\\r\\n        string[] calldata assets,\\r\\n        uint256[] calldata weights,\\r\\n        string calldata name,\\r\\n        string calldata symbol\\r\\n    ) external returns (uint256 basketId) {\\r\\n        // Validate inputs\\r\\n        uint256 assetLen = assets.length;\\r\\n        if (assetLen == 0) revert EmptyAssetsArray();\\r\\n        if (assetLen != weights.length) revert ArrayLengthMismatch();\\r\\n        \\r\\n        // Validate weights sum to 10000 basis points\\r\\n        uint256 totalWeight = 0;\\r\\n        for (uint256 i = 0; i < assetLen;) {\\r\\n            if (weights[i] == 0) revert ZeroWeight();\\r\\n            totalWeight += weights[i];\\r\\n            unchecked { ++i; }\\r\\n        }\\r\\n        if (totalWeight != 10000) revert InvalidWeightsSum();\\r\\n        \\r\\n        // Generate new basket ID (starts from 1)\\r\\n        basketId = ++basketCount;\\r\\n        \\r\\n        // Create the basket - store directly to avoid extra local vars\\r\\n        Basket storage b = baskets[basketId];\\r\\n        b.creator = msg.sender;\\r\\n        b.active = true;\\r\\n        b.name = name;\\r\\n        b.symbol = symbol;\\r\\n        \\r\\n        // Copy assets and weights to storage\\r\\n        for (uint256 i = 0; i < assetLen;) {\\r\\n            b.assets.push(assets[i]);\\r\\n            b.weights.push(weights[i]);\\r\\n            unchecked { ++i; }\\r\\n        }\\r\\n        \\r\\n        // Track creator's baskets\\r\\n        creatorBaskets[msg.sender].push(basketId);\\r\\n        \\r\\n        emit BasketCreated(basketId, msg.sender, assetLen);\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Deactivate a basket (only creator or owner)\\r\\n     * @param basketId The basket to deactivate\\r\\n     */\\r\\n    function deactivateBasket(uint256 basketId) external {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        if (msg.sender != basket.creator && msg.sender != owner()) {\\r\\n            revert NotBasketCreator();\\r\\n        }\\r\\n        \\r\\n        basket.active = false;\\r\\n        emit BasketActiveStateChanged(basketId, false);\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Reactivate a basket (only creator or owner)\\r\\n     * @param basketId The basket to reactivate\\r\\n     */\\r\\n    function reactivateBasket(uint256 basketId) external {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        if (msg.sender != basket.creator && msg.sender != owner()) {\\r\\n            revert NotBasketCreator();\\r\\n        }\\r\\n        \\r\\n        basket.active = true;\\r\\n        emit BasketActiveStateChanged(basketId, true);\\r\\n    }\\r\\n\\r\\n    // ============================================================\\r\\n    // ==================== VIEW FUNCTIONS ========================\\r\\n    // ============================================================\\r\\n    \\r\\n    /**\\r\\n     * @notice Get complete basket data by ID\\r\\n     * @param basketId The basket ID to query\\r\\n     * @return creator The creator address\\r\\n     * @return assets Array of asset identifiers\\r\\n     * @return weights Array of weights in basis points\\r\\n     * @return active Whether the basket is active\\r\\n     * @return name Basket name\\r\\n     * @return symbol Basket symbol\\r\\n     */\\r\\n    function getBasket(uint256 basketId) external view returns (\\r\\n        address creator,\\r\\n        string[] memory assets,\\r\\n        uint256[] memory weights,\\r\\n        bool active,\\r\\n        string memory name,\\r\\n        string memory symbol\\r\\n    ) {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        \\r\\n        return (\\r\\n            basket.creator,\\r\\n            basket.assets,\\r\\n            basket.weights,\\r\\n            basket.active,\\r\\n            basket.name,\\r\\n            basket.symbol\\r\\n        );\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Check if a basket is active\\r\\n     * @param basketId The basket ID to check\\r\\n     * @return True if active, false otherwise\\r\\n     */\\r\\n    function isBasketActive(uint256 basketId) external view returns (bool) {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        return basket.active;\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Get basket composition (assets and weights only)\\r\\n     * @param basketId The basket ID to query\\r\\n     * @return assets Array of asset identifiers\\r\\n     * @return weights Array of weights in basis points\\r\\n     */\\r\\n    function getBasketComposition(uint256 basketId) external view returns (\\r\\n        string[] memory assets,\\r\\n        uint256[] memory weights\\r\\n    ) {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        return (basket.assets, basket.weights);\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Get the number of assets in a basket\\r\\n     * @param basketId The basket ID to query\\r\\n     * @return Number of assets\\r\\n     */\\r\\n    function getBasketAssetCount(uint256 basketId) external view returns (uint256) {\\r\\n        Basket storage basket = baskets[basketId];\\r\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\r\\n        return basket.assets.length;\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Get all basket IDs created by a specific address\\r\\n     * @param creator The creator address to query\\r\\n     * @return Array of basket IDs\\r\\n     */\\r\\n    function getBasketsByCreator(address creator) external view returns (uint256[] memory) {\\r\\n        return creatorBaskets[creator];\\r\\n    }\\r\\n    \\r\\n    /**\\r\\n     * @notice Check if a basket exists\\r\\n     * @param basketId The basket ID to check\\r\\n     * @return True if exists, false otherwise\\r\\n     */\\r\\n    function basketExists(uint256 basketId) external view returns (bool) {\\r\\n        return baskets[basketId].creator != address(0);\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x713c4feb5c9550b09ae87e377e663934c3b4ad36812b3e38b585a126ebb577a2\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a06040523480156200001157600080fd5b5060405162002abb38038062002abb83398101604081905262000034916200042f565b33806200005b57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b620000668162000345565b506001600160a01b0381166080526040805180820190915260048152631050541360e21b6020820152620000bb907f49f6b65cb1de6b10eaf75e7c03ca029c306d0357e91b5311b175084a5ad5568862000395565b6040805180820190915260048152634e56444160e01b602082015262000102907fb1073854ed24cbc755dc527418f52b7d271f6cc967bbf8d8129112b18860a59362000395565b60408051808201909152600481526311d3d31160e21b6020820152620001389060008051602062002a9b83398151915262000395565b60408051808201909152600681526529a4a62b22a960d11b6020820152620001709060008051602062002a9b83398151915262000395565b6040805180820190915260078152664849544143484960c81b6020820152620001ba907fd0ca23c1cc005e004ccf1db5bf76aeb6a49218f43dac3d4b275e92de12ded4d162000395565b6040805180820190915260048152631354d19560e21b602082015262000201907fd0ca23c1cc005e004ccf1db5bf76aeb6a49218f43dac3d4b275e92de12ded4d162000395565b60408051808201909152600581526411d3d3d1d360da1b602082015262000249907f5a48c03e9b9cb337801073ed9d166817473697efff0d138874e0f6a33d6d5aa662000395565b60408051808201909152600481526320a6ad2760e11b602082015262000290907fb5d0e0fa58a1f8b81498ae670ce93c872d14434b72c364885d4fa1b257cbb07a62000395565b60408051808201909152600481526354534c4160e01b6020820152620002d7907f16dad506d7db8da01c87581c87ca897a012a153557d4d578c3b9c9e1bc0632f162000395565b60408051808201909152600381526242544360e81b60208201526200030c9060008051602062002a9b83398151915262000395565b506706f05b59d3b20000600455600580546001600160a01b0319167398046bd286715d3b0bc227dd7a956b83d897860317905562000603565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600183604051620003a8919062000461565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace01620003f6838262000537565b5060016003836040516200040b919062000461565b908152604051908190036020019020805491151560ff199092169190911790555050565b6000602082840312156200044257600080fd5b81516001600160a01b03811681146200045a57600080fd5b9392505050565b6000825160005b8181101562000484576020818601810151858301520162000468565b506000920191825250919050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620004bd57607f821691505b602082108103620004de57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200053257600081815260208120601f850160051c810160208610156200050d5750805b601f850160051c820191505b818110156200052e5782815560010162000519565b5050505b505050565b81516001600160401b0381111562000553576200055362000492565b6200056b81620005648454620004a8565b84620004e4565b602080601f831160018114620005a357600084156200058a5750858301515b600019600386901b1c1916600185901b1785556200052e565b600085815260208120601f198616915b82811015620005d457888601518255948401946001909101908401620005b3565b5085821015620005f35787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6080516124606200063b6000396000818161039f01528181610fe1015281816110940152818161139b015261143c01526124606000f3fe6080604052600436106101405760003560e01c8063a083bd3c116100b6578063d8435ec31161006f578063d8435ec3146103f6578063ef9e5e2814610416578063f2fde38b14610429578063f4697dd714610449578063f98d06f014610477578063fab253c71461049757600080fd5b8063a083bd3c1461032a578063a79ed06514610357578063adcaec7b1461036d578063baf754891461038d578063c04eed01146103c1578063d4edc403146103d657600080fd5b8063715018a611610108578063715018a61461026157806375fb7a3b14610276578063767e4571146102965780637e32fc47146102b65780638da5cb5b146102d657806395bfc49a1461030857600080fd5b8063136e0351146101455780632aedd0eb14610178578063317cbbf91461019857806342d97aec146101ba5780635696b8eb14610205575b600080fd5b34801561015157600080fd5b506101656101603660046117e7565b6104cf565b6040519081526020015b60405180910390f35b34801561018457600080fd5b50610165610193366004611848565b61051b565b3480156101a457600080fd5b506101b86101b3366004611889565b610563565b005b3480156101c657600080fd5b506101f56101d5366004611941565b805160208183018101805160038252928201919093012091525460ff1681565b604051901515815260200161016f565b34801561021157600080fd5b50610225610220366004611848565b61070c565b6040805195865260079490940b602086015260039290920b928401929092526001600160401b039091166060830152608082015260a00161016f565b34801561026d57600080fd5b506101b86108b8565b34801561028257600080fd5b506101b8610291366004611a04565b6108cc565b3480156102a257600080fd5b506101b86102b13660046117e7565b610c35565b3480156102c257600080fd5b506101b86102d1366004611889565b610ca3565b3480156102e257600080fd5b506000546001600160a01b03165b6040516001600160a01b03909116815260200161016f565b34801561031457600080fd5b5061031d610d95565b60405161016f9190611abf565b34801561033657600080fd5b5061034a6103453660046117e7565b610e6e565b60405161016f9190611b21565b34801561036357600080fd5b5061016560045481565b34801561037957600080fd5b50610165610388366004611b34565b610f1a565b34801561039957600080fd5b506102f07f000000000000000000000000000000000000000000000000000000000000000081565b3480156103cd57600080fd5b50600254610165565b3480156103e257600080fd5b506101656103f13660046117e7565b610f8e565b34801561040257600080fd5b506101656104113660046117e7565b610fc8565b610165610424366004611b34565b611195565b34801561043557600080fd5b506101b8610444366004611b69565b611339565b34801561045557600080fd5b506104696104643660046117e7565b611377565b60405161016f929190611b92565b34801561048357600080fd5b506005546102f0906001600160a01b031681565b3480156104a357600080fd5b506101656104b2366004611941565b805160208183018101805160018252928201919093012091525481565b60006004546000036104f457604051633b003e8f60e21b815260040160405180910390fd5b670de0b6b3a76400006004548361050b9190611bcb565b6105159190611bf8565b92915050565b600061055c83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061155992505050565b9392505050565b61056b6116d6565b80610596578282604051633f5942cf60e01b815260040161058d929190611c35565b60405180910390fd5b6000600184846040516105aa929190611c49565b908152602001604051809103902054905081600185856040516105ce929190611c49565b908152602001604051809103902081905550600384846040516105f2929190611c49565b9081526040519081900360200190205460ff166106b657600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace01610646848683611ce2565b5060016003858560405161065b929190611c49565b908152604051908190036020018120805492151560ff19909316929092179091557f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5906106ad90869086908690611da1565b60405180910390a15b83836040516106c6929190611c49565b6040805191829003822083835260208301859052917fa6e74c890bb66d00ad000cab95dc422024cbc2fda9eaf6a1e57391c1baa76201910160405180910390a250505050565b60008060008060008060018888604051610727929190611c49565b9081526040519081900360200190205490508061075b578787604051637c18527f60e11b815260040161058d929190611c35565b60055460405163052571af60e51b815260048101839052603c60248201526000916001600160a01b03169063a4ae35e090604401608060405180830381865afa1580156107ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107d09190611dc5565b90508060000151955080604001519450806020015193508060600151925060008660070b13610816578888604051637c18527f60e11b815260040161058d929190611c35565b6000610823866012611e5b565b90506000808260030b126108575761084263ffffffff8316600a611fb7565b8860070b6108509190611fc3565b9050610882565b61086082611ff3565b6108719063ffffffff16600a611fb7565b8860070b61087f9190612016565b90505b600081136108a7578a8a604051637c18527f60e11b815260040161058d929190611c35565b809850505050509295509295909350565b6108c06116d6565b6108ca6000611703565b565b6108d46116d6565b82811461091b5760405162461bcd60e51b8152602060048201526015602482015274082e4e4c2f240d8cadccee8d040dad2e6dac2e8c6d605b1b604482015260640161058d565b60005b83811015610c2e57600083838381811061093a5761093a612044565b90506020020135036109855784848281811061095857610958612044565b905060200281019061096a919061205a565b604051633f5942cf60e01b815260040161058d929190611c35565b6000600186868481811061099b5761099b612044565b90506020028101906109ad919061205a565b6040516109bb929190611c49565b90815260200160405180910390205490508383838181106109de576109de612044565b9050602002013560018787858181106109f9576109f9612044565b9050602002810190610a0b919061205a565b604051610a19929190611c49565b908152604051908190036020019020556003868684818110610a3d57610a3d612044565b9050602002810190610a4f919061205a565b604051610a5d929190611c49565b9081526040519081900360200190205460ff16610b87576002868684818110610a8857610a88612044565b9050602002810190610a9a919061205a565b82546001810184556000938452602090932090920191610aba9183611ce2565b5060016003878785818110610ad157610ad1612044565b9050602002810190610ae3919061205a565b604051610af1929190611c49565b908152604051908190036020019020805491151560ff199092169190911790557f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5868684818110610b4457610b44612044565b9050602002810190610b56919061205a565b868686818110610b6857610b68612044565b90506020020135604051610b7e93929190611da1565b60405180910390a15b858583818110610b9957610b99612044565b9050602002810190610bab919061205a565b604051610bb9929190611c49565b60405180910390207fa6e74c890bb66d00ad000cab95dc422024cbc2fda9eaf6a1e57391c1baa7620182868686818110610bf557610bf5612044565b90506020020135604051610c13929190918252602082015260400190565b60405180910390a25080610c26816120a0565b91505061091e565b5050505050565b610c3d6116d6565b80600003610c5e57604051634dfba02360e01b815260040160405180910390fd5b600480549082905560408051828152602081018490527f8f01dd7ba3e8a04f54bae3ba0045c524909bd9513ba381b37f583fdb81e41ad3910160405180910390a15050565b610cab6116d6565b60038383604051610cbd929190611c49565b9081526040519081900360200190205460ff1615610cf25782826040516336d535c960e11b815260040161058d929190611c35565b80610d14578282604051633f5942cf60e01b815260040161058d929190611c35565b610d5583838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250859250611753915050565b7f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5838383604051610d8893929190611da1565b60405180910390a1505050565b60606002805480602002602001604051908101604052809291908181526020016000905b82821015610e65578382906000526020600020018054610dd890611c59565b80601f0160208091040260200160405190810160405280929190818152602001828054610e0490611c59565b8015610e515780601f10610e2657610100808354040283529160200191610e51565b820191906000526020600020905b815481529060010190602001808311610e3457829003601f168201915b505050505081526020019060010190610db9565b50505050905090565b60028181548110610e7e57600080fd5b906000526020600020016000915090508054610e9990611c59565b80601f0160208091040260200160405190810160405280929190818152602001828054610ec590611c59565b8015610f125780601f10610ee757610100808354040283529160200191610f12565b820191906000526020600020905b815481529060010190602001808311610ef557829003601f168201915b505050505081565b60055460405163d47eed4560e01b81526000916001600160a01b03169063d47eed4590610f4d90869086906004016120b9565b602060405180830381865afa158015610f6a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061055c9190612154565b6000600454600003610fb357604051633b003e8f60e21b815260040160405180910390fd5b60045461050b83670de0b6b3a7640000611bcb565b604051632fed9b2d60e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632fed9b2d90602401602060405180830381865afa158015611030573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611054919061216d565b6110715760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b81526004810183905260009081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063d2f7baf990602401600060405180830381865afa1580156110db573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526111039190810190612218565b915091506000805b835181101561117f57600061113885838151811061112b5761112b612044565b6020026020010151611559565b905083828151811061114c5761114c612044565b60200260200101518161115f9190611bcb565b6111699084612329565b9250508080611177906120a0565b91505061110b565b5061118c61271082611bf8565b95945050505050565b60055460405163d47eed4560e01b81526000916001600160a01b03169063d47eed45906111c890869086906004016120b9565b602060405180830381865afa1580156111e5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112099190612154565b9050803410156112355760405163dd519f0360e01b81526004810182905234602482015260440161058d565b600554604051631df3cbc560e31b81526001600160a01b039091169063ef9e5e2890839061126990879087906004016120b9565b6000604051808303818588803b15801561128257600080fd5b505af1158015611296573d6000803e3d6000fd5b505050505080341115610515576000336112b0833461233c565b604051600081818185875af1925050503d80600081146112ec576040519150601f19603f3d011682016040523d82523d6000602084013e6112f1565b606091505b50509050806113325760405162461bcd60e51b815260206004820152600d60248201526c1499599d5b990819985a5b1959609a1b604482015260640161058d565b5092915050565b6113416116d6565b6001600160a01b03811661136b57604051631e4fbdf760e01b81526000600482015260240161058d565b61137481611703565b50565b604051632fed9b2d60e01b8152600481018290526000906060906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690632fed9b2d90602401602060405180830381865afa1580156113e2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611406919061216d565b6114235760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063d2f7baf990602401600060405180830381865afa15801561148b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526114b39190810190612218565b50905060005b815181101561153c576000801b60018383815181106114da576114da612044565b60200260200101516040516114ef919061234f565b9081526020016040518091039020540361152a57600082828151811061151757611517612044565b6020026020010151935093505050915091565b80611534816120a0565b9150506114b9565b506001604051806020016040528060008152509250925050915091565b60008060018360405161156c919061234f565b9081526040519081900360200190205490508061159e5782604051637c18527f60e11b815260040161058d9190611b21565b60055460405163052571af60e51b815260048101839052603c60248201526000916001600160a01b03169063a4ae35e090604401608060405180830381865afa1580156115ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116139190611dc5565b8051604082015191925060070b90600082136116445785604051637c18527f60e11b815260040161058d9190611b21565b6000611651826012611e5b565b90506000808260030b126116815761167063ffffffff8316600a611fb7565b61167a9085611fc3565b90506116a8565b61168a82611ff3565b61169b9063ffffffff16600a611fb7565b6116a59085612016565b90505b600081136116cb5787604051637c18527f60e11b815260040161058d9190611b21565b979650505050505050565b6000546001600160a01b031633146108ca5760405163118cdaa760e01b815233600482015260240161058d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600183604051611764919061234f565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016117b0838261236b565b5060016003836040516117c3919061234f565b908152604051908190036020019020805491151560ff199092169190911790555050565b6000602082840312156117f957600080fd5b5035919050565b60008083601f84011261181257600080fd5b5081356001600160401b0381111561182957600080fd5b60208301915083602082850101111561184157600080fd5b9250929050565b6000806020838503121561185b57600080fd5b82356001600160401b0381111561187157600080fd5b61187d85828601611800565b90969095509350505050565b60008060006040848603121561189e57600080fd5b83356001600160401b038111156118b457600080fd5b6118c086828701611800565b909790965060209590950135949350505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611912576119126118d4565b604052919050565b60006001600160401b03821115611933576119336118d4565b50601f01601f191660200190565b60006020828403121561195357600080fd5b81356001600160401b0381111561196957600080fd5b8201601f8101841361197a57600080fd5b803561198d6119888261191a565b6118ea565b8181528560208385010111156119a257600080fd5b81602084016020830137600091810160200191909152949350505050565b60008083601f8401126119d257600080fd5b5081356001600160401b038111156119e957600080fd5b6020830191508360208260051b850101111561184157600080fd5b60008060008060408587031215611a1a57600080fd5b84356001600160401b0380821115611a3157600080fd5b611a3d888389016119c0565b90965094506020870135915080821115611a5657600080fd5b50611a63878288016119c0565b95989497509550505050565b60005b83811015611a8a578181015183820152602001611a72565b50506000910152565b60008151808452611aab816020860160208601611a6f565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015611b1457603f19888603018452611b02858351611a93565b94509285019290850190600101611ae6565b5092979650505050505050565b60208152600061055c6020830184611a93565b60008060208385031215611b4757600080fd5b82356001600160401b03811115611b5d57600080fd5b61187d858286016119c0565b600060208284031215611b7b57600080fd5b81356001600160a01b038116811461055c57600080fd5b8215158152604060208201526000611bad6040830184611a93565b949350505050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761051557610515611bb5565b634e487b7160e01b600052601260045260246000fd5b600082611c0757611c07611be2565b500490565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b602081526000611bad602083018486611c0c565b8183823760009101908152919050565b600181811c90821680611c6d57607f821691505b602082108103611c8d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115611cdd57600081815260208120601f850160051c81016020861015611cba5750805b601f850160051c820191505b81811015611cd957828155600101611cc6565b5050505b505050565b6001600160401b03831115611cf957611cf96118d4565b611d0d83611d078354611c59565b83611c93565b6000601f841160018114611d415760008515611d295750838201355b600019600387901b1c1916600186901b178355610c2e565b600083815260209020601f19861690835b82811015611d725786850135825560209485019460019092019101611d52565b5086821015611d8f5760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b604081526000611db5604083018587611c0c565b9050826020830152949350505050565b600060808284031215611dd757600080fd5b604051608081016001600160401b038282108183111715611dfa57611dfa6118d4565b81604052845191508160070b8214611e1157600080fd5b9082526020840151908082168214611e2857600080fd5b5060208201526040830151600381900b8114611e4357600080fd5b60408201526060928301519281019290925250919050565b600381810b9083900b01637fffffff8113637fffffff198212171561051557610515611bb5565b80825b6001808611611e945750611ec7565b6001600160ff1b03829004821115611eae57611eae611bb5565b80861615611ebb57918102915b9490941c938002611e85565b935093915050565b6000828015611ee55760018114611eef57611ef8565b6001915050610515565b82915050610515565b5081611f0657506000610515565b50600160008213808214611f1f578015611f3e57611f58565b6001600160ff1b03839004831115611f3957611f39611bb5565b611f58565b6001600160ff1b03839005831215611f5857611f58611bb5565b5080831615611f645750805b611f748360011c83840283611e82565b600082136001600160ff1b0382900483111615611f9357611f93611bb5565b60008212600160ff1b82900583121615611faf57611faf611bb5565b029392505050565b600061055c8383611ecf565b80820260008212600160ff1b84141615611fdf57611fdf611bb5565b818105831482151761051557610515611bb5565b60008160030b637fffffff19810361200d5761200d611bb5565b60000392915050565b60008261202557612025611be2565b600160ff1b82146000198414161561203f5761203f611bb5565b500590565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261207157600080fd5b8301803591506001600160401b0382111561208b57600080fd5b60200191503681900382131561184157600080fd5b6000600182016120b2576120b2611bb5565b5060010190565b60208082528181018390526000906040600585901b8401810190840186845b8781101561214757868403603f190183528135368a9003601e190181126120fe57600080fd5b890185810190356001600160401b0381111561211957600080fd5b80360382131561212857600080fd5b612133868284611c0c565b9550505091840191908401906001016120d8565b5091979650505050505050565b60006020828403121561216657600080fd5b5051919050565b60006020828403121561217f57600080fd5b8151801515811461055c57600080fd5b60006001600160401b038211156121a8576121a86118d4565b5060051b60200190565b600082601f8301126121c357600080fd5b815160206121d36119888361218f565b82815260059290921b840181019181810190868411156121f257600080fd5b8286015b8481101561220d57805183529183019183016121f6565b509695505050505050565b600080604080848603121561222c57600080fd5b83516001600160401b038082111561224357600080fd5b818601915086601f83011261225757600080fd5b815160206122676119888361218f565b82815260059290921b8401810191818101908a84111561228657600080fd5b8286015b848110156122f7578051868111156122a25760008081fd5b8701603f81018d136122b45760008081fd5b848101516122c46119888261191a565b8181528e8b8385010111156122d95760008081fd5b6122e8828883018d8601611a6f565b8552505091830191830161228a565b509189015191975090945050508083111561231157600080fd5b505061231f858286016121b2565b9150509250929050565b8082018082111561051557610515611bb5565b8181038181111561051557610515611bb5565b60008251612361818460208701611a6f565b9190910192915050565b81516001600160401b03811115612384576123846118d4565b612398816123928454611c59565b84611c93565b602080601f8311600181146123cd57600084156123b55750858301515b600019600386901b1c1916600185901b178555611cd9565b600085815260208120601f198616915b828110156123fc578886015182559484019460019091019084016123dd565b508582101561241a5787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220df277855e43534600b5f67f334a6330e95941cf4d1c912fb7c5f1fba1d0718d764736f6c63430008140033e62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",
  "deployedBytecode": "0x6080604052600436106101405760003560e01c8063a083bd3c116100b6578063d8435ec31161006f578063d8435ec3146103f6578063ef9e5e2814610416578063f2fde38b14610429578063f4697dd714610449578063f98d06f014610477578063fab253c71461049757600080fd5b8063a083bd3c1461032a578063a79ed06514610357578063adcaec7b1461036d578063baf754891461038d578063c04eed01146103c1578063d4edc403146103d657600080fd5b8063715018a611610108578063715018a61461026157806375fb7a3b14610276578063767e4571146102965780637e32fc47146102b65780638da5cb5b146102d657806395bfc49a1461030857600080fd5b8063136e0351146101455780632aedd0eb14610178578063317cbbf91461019857806342d97aec146101ba5780635696b8eb14610205575b600080fd5b34801561015157600080fd5b506101656101603660046117e7565b6104cf565b6040519081526020015b60405180910390f35b34801561018457600080fd5b50610165610193366004611848565b61051b565b3480156101a457600080fd5b506101b86101b3366004611889565b610563565b005b3480156101c657600080fd5b506101f56101d5366004611941565b805160208183018101805160038252928201919093012091525460ff1681565b604051901515815260200161016f565b34801561021157600080fd5b50610225610220366004611848565b61070c565b6040805195865260079490940b602086015260039290920b928401929092526001600160401b039091166060830152608082015260a00161016f565b34801561026d57600080fd5b506101b86108b8565b34801561028257600080fd5b506101b8610291366004611a04565b6108cc565b3480156102a257600080fd5b506101b86102b13660046117e7565b610c35565b3480156102c257600080fd5b506101b86102d1366004611889565b610ca3565b3480156102e257600080fd5b506000546001600160a01b03165b6040516001600160a01b03909116815260200161016f565b34801561031457600080fd5b5061031d610d95565b60405161016f9190611abf565b34801561033657600080fd5b5061034a6103453660046117e7565b610e6e565b60405161016f9190611b21565b34801561036357600080fd5b5061016560045481565b34801561037957600080fd5b50610165610388366004611b34565b610f1a565b34801561039957600080fd5b506102f07f000000000000000000000000000000000000000000000000000000000000000081565b3480156103cd57600080fd5b50600254610165565b3480156103e257600080fd5b506101656103f13660046117e7565b610f8e565b34801561040257600080fd5b506101656104113660046117e7565b610fc8565b610165610424366004611b34565b611195565b34801561043557600080fd5b506101b8610444366004611b69565b611339565b34801561045557600080fd5b506104696104643660046117e7565b611377565b60405161016f929190611b92565b34801561048357600080fd5b506005546102f0906001600160a01b031681565b3480156104a357600080fd5b506101656104b2366004611941565b805160208183018101805160018252928201919093012091525481565b60006004546000036104f457604051633b003e8f60e21b815260040160405180910390fd5b670de0b6b3a76400006004548361050b9190611bcb565b6105159190611bf8565b92915050565b600061055c83838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061155992505050565b9392505050565b61056b6116d6565b80610596578282604051633f5942cf60e01b815260040161058d929190611c35565b60405180910390fd5b6000600184846040516105aa929190611c49565b908152602001604051809103902054905081600185856040516105ce929190611c49565b908152602001604051809103902081905550600384846040516105f2929190611c49565b9081526040519081900360200190205460ff166106b657600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace01610646848683611ce2565b5060016003858560405161065b929190611c49565b908152604051908190036020018120805492151560ff19909316929092179091557f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5906106ad90869086908690611da1565b60405180910390a15b83836040516106c6929190611c49565b6040805191829003822083835260208301859052917fa6e74c890bb66d00ad000cab95dc422024cbc2fda9eaf6a1e57391c1baa76201910160405180910390a250505050565b60008060008060008060018888604051610727929190611c49565b9081526040519081900360200190205490508061075b578787604051637c18527f60e11b815260040161058d929190611c35565b60055460405163052571af60e51b815260048101839052603c60248201526000916001600160a01b03169063a4ae35e090604401608060405180830381865afa1580156107ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107d09190611dc5565b90508060000151955080604001519450806020015193508060600151925060008660070b13610816578888604051637c18527f60e11b815260040161058d929190611c35565b6000610823866012611e5b565b90506000808260030b126108575761084263ffffffff8316600a611fb7565b8860070b6108509190611fc3565b9050610882565b61086082611ff3565b6108719063ffffffff16600a611fb7565b8860070b61087f9190612016565b90505b600081136108a7578a8a604051637c18527f60e11b815260040161058d929190611c35565b809850505050509295509295909350565b6108c06116d6565b6108ca6000611703565b565b6108d46116d6565b82811461091b5760405162461bcd60e51b8152602060048201526015602482015274082e4e4c2f240d8cadccee8d040dad2e6dac2e8c6d605b1b604482015260640161058d565b60005b83811015610c2e57600083838381811061093a5761093a612044565b90506020020135036109855784848281811061095857610958612044565b905060200281019061096a919061205a565b604051633f5942cf60e01b815260040161058d929190611c35565b6000600186868481811061099b5761099b612044565b90506020028101906109ad919061205a565b6040516109bb929190611c49565b90815260200160405180910390205490508383838181106109de576109de612044565b9050602002013560018787858181106109f9576109f9612044565b9050602002810190610a0b919061205a565b604051610a19929190611c49565b908152604051908190036020019020556003868684818110610a3d57610a3d612044565b9050602002810190610a4f919061205a565b604051610a5d929190611c49565b9081526040519081900360200190205460ff16610b87576002868684818110610a8857610a88612044565b9050602002810190610a9a919061205a565b82546001810184556000938452602090932090920191610aba9183611ce2565b5060016003878785818110610ad157610ad1612044565b9050602002810190610ae3919061205a565b604051610af1929190611c49565b908152604051908190036020019020805491151560ff199092169190911790557f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5868684818110610b4457610b44612044565b9050602002810190610b56919061205a565b868686818110610b6857610b68612044565b90506020020135604051610b7e93929190611da1565b60405180910390a15b858583818110610b9957610b99612044565b9050602002810190610bab919061205a565b604051610bb9929190611c49565b60405180910390207fa6e74c890bb66d00ad000cab95dc422024cbc2fda9eaf6a1e57391c1baa7620182868686818110610bf557610bf5612044565b90506020020135604051610c13929190918252602082015260400190565b60405180910390a25080610c26816120a0565b91505061091e565b5050505050565b610c3d6116d6565b80600003610c5e57604051634dfba02360e01b815260040160405180910390fd5b600480549082905560408051828152602081018490527f8f01dd7ba3e8a04f54bae3ba0045c524909bd9513ba381b37f583fdb81e41ad3910160405180910390a15050565b610cab6116d6565b60038383604051610cbd929190611c49565b9081526040519081900360200190205460ff1615610cf25782826040516336d535c960e11b815260040161058d929190611c35565b80610d14578282604051633f5942cf60e01b815260040161058d929190611c35565b610d5583838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250859250611753915050565b7f5f173b536cd4561bb60f721c55c1ab0304765f755af94ce2d59a45ced287dcd5838383604051610d8893929190611da1565b60405180910390a1505050565b60606002805480602002602001604051908101604052809291908181526020016000905b82821015610e65578382906000526020600020018054610dd890611c59565b80601f0160208091040260200160405190810160405280929190818152602001828054610e0490611c59565b8015610e515780601f10610e2657610100808354040283529160200191610e51565b820191906000526020600020905b815481529060010190602001808311610e3457829003601f168201915b505050505081526020019060010190610db9565b50505050905090565b60028181548110610e7e57600080fd5b906000526020600020016000915090508054610e9990611c59565b80601f0160208091040260200160405190810160405280929190818152602001828054610ec590611c59565b8015610f125780601f10610ee757610100808354040283529160200191610f12565b820191906000526020600020905b815481529060010190602001808311610ef557829003601f168201915b505050505081565b60055460405163d47eed4560e01b81526000916001600160a01b03169063d47eed4590610f4d90869086906004016120b9565b602060405180830381865afa158015610f6a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061055c9190612154565b6000600454600003610fb357604051633b003e8f60e21b815260040160405180910390fd5b60045461050b83670de0b6b3a7640000611bcb565b604051632fed9b2d60e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632fed9b2d90602401602060405180830381865afa158015611030573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611054919061216d565b6110715760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b81526004810183905260009081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063d2f7baf990602401600060405180830381865afa1580156110db573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526111039190810190612218565b915091506000805b835181101561117f57600061113885838151811061112b5761112b612044565b6020026020010151611559565b905083828151811061114c5761114c612044565b60200260200101518161115f9190611bcb565b6111699084612329565b9250508080611177906120a0565b91505061110b565b5061118c61271082611bf8565b95945050505050565b60055460405163d47eed4560e01b81526000916001600160a01b03169063d47eed45906111c890869086906004016120b9565b602060405180830381865afa1580156111e5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112099190612154565b9050803410156112355760405163dd519f0360e01b81526004810182905234602482015260440161058d565b600554604051631df3cbc560e31b81526001600160a01b039091169063ef9e5e2890839061126990879087906004016120b9565b6000604051808303818588803b15801561128257600080fd5b505af1158015611296573d6000803e3d6000fd5b505050505080341115610515576000336112b0833461233c565b604051600081818185875af1925050503d80600081146112ec576040519150601f19603f3d011682016040523d82523d6000602084013e6112f1565b606091505b50509050806113325760405162461bcd60e51b815260206004820152600d60248201526c1499599d5b990819985a5b1959609a1b604482015260640161058d565b5092915050565b6113416116d6565b6001600160a01b03811661136b57604051631e4fbdf760e01b81526000600482015260240161058d565b61137481611703565b50565b604051632fed9b2d60e01b8152600481018290526000906060906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690632fed9b2d90602401602060405180830381865afa1580156113e2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611406919061216d565b6114235760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063d2f7baf990602401600060405180830381865afa15801561148b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526114b39190810190612218565b50905060005b815181101561153c576000801b60018383815181106114da576114da612044565b60200260200101516040516114ef919061234f565b9081526020016040518091039020540361152a57600082828151811061151757611517612044565b6020026020010151935093505050915091565b80611534816120a0565b9150506114b9565b506001604051806020016040528060008152509250925050915091565b60008060018360405161156c919061234f565b9081526040519081900360200190205490508061159e5782604051637c18527f60e11b815260040161058d9190611b21565b60055460405163052571af60e51b815260048101839052603c60248201526000916001600160a01b03169063a4ae35e090604401608060405180830381865afa1580156115ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116139190611dc5565b8051604082015191925060070b90600082136116445785604051637c18527f60e11b815260040161058d9190611b21565b6000611651826012611e5b565b90506000808260030b126116815761167063ffffffff8316600a611fb7565b61167a9085611fc3565b90506116a8565b61168a82611ff3565b61169b9063ffffffff16600a611fb7565b6116a59085612016565b90505b600081136116cb5787604051637c18527f60e11b815260040161058d9190611b21565b979650505050505050565b6000546001600160a01b031633146108ca5760405163118cdaa760e01b815233600482015260240161058d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600183604051611764919061234f565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016117b0838261236b565b5060016003836040516117c3919061234f565b908152604051908190036020019020805491151560ff199092169190911790555050565b6000602082840312156117f957600080fd5b5035919050565b60008083601f84011261181257600080fd5b5081356001600160401b0381111561182957600080fd5b60208301915083602082850101111561184157600080fd5b9250929050565b6000806020838503121561185b57600080fd5b82356001600160401b0381111561187157600080fd5b61187d85828601611800565b90969095509350505050565b60008060006040848603121561189e57600080fd5b83356001600160401b038111156118b457600080fd5b6118c086828701611800565b909790965060209590950135949350505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611912576119126118d4565b604052919050565b60006001600160401b03821115611933576119336118d4565b50601f01601f191660200190565b60006020828403121561195357600080fd5b81356001600160401b0381111561196957600080fd5b8201601f8101841361197a57600080fd5b803561198d6119888261191a565b6118ea565b8181528560208385010111156119a257600080fd5b81602084016020830137600091810160200191909152949350505050565b60008083601f8401126119d257600080fd5b5081356001600160401b038111156119e957600080fd5b6020830191508360208260051b850101111561184157600080fd5b60008060008060408587031215611a1a57600080fd5b84356001600160401b0380821115611a3157600080fd5b611a3d888389016119c0565b90965094506020870135915080821115611a5657600080fd5b50611a63878288016119c0565b95989497509550505050565b60005b83811015611a8a578181015183820152602001611a72565b50506000910152565b60008151808452611aab816020860160208601611a6f565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015611b1457603f19888603018452611b02858351611a93565b94509285019290850190600101611ae6565b5092979650505050505050565b60208152600061055c6020830184611a93565b60008060208385031215611b4757600080fd5b82356001600160401b03811115611b5d57600080fd5b61187d858286016119c0565b600060208284031215611b7b57600080fd5b81356001600160a01b038116811461055c57600080fd5b8215158152604060208201526000611bad6040830184611a93565b949350505050565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761051557610515611bb5565b634e487b7160e01b600052601260045260246000fd5b600082611c0757611c07611be2565b500490565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b602081526000611bad602083018486611c0c565b8183823760009101908152919050565b600181811c90821680611c6d57607f821691505b602082108103611c8d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115611cdd57600081815260208120601f850160051c81016020861015611cba5750805b601f850160051c820191505b81811015611cd957828155600101611cc6565b5050505b505050565b6001600160401b03831115611cf957611cf96118d4565b611d0d83611d078354611c59565b83611c93565b6000601f841160018114611d415760008515611d295750838201355b600019600387901b1c1916600186901b178355610c2e565b600083815260209020601f19861690835b82811015611d725786850135825560209485019460019092019101611d52565b5086821015611d8f5760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b604081526000611db5604083018587611c0c565b9050826020830152949350505050565b600060808284031215611dd757600080fd5b604051608081016001600160401b038282108183111715611dfa57611dfa6118d4565b81604052845191508160070b8214611e1157600080fd5b9082526020840151908082168214611e2857600080fd5b5060208201526040830151600381900b8114611e4357600080fd5b60408201526060928301519281019290925250919050565b600381810b9083900b01637fffffff8113637fffffff198212171561051557610515611bb5565b80825b6001808611611e945750611ec7565b6001600160ff1b03829004821115611eae57611eae611bb5565b80861615611ebb57918102915b9490941c938002611e85565b935093915050565b6000828015611ee55760018114611eef57611ef8565b6001915050610515565b82915050610515565b5081611f0657506000610515565b50600160008213808214611f1f578015611f3e57611f58565b6001600160ff1b03839004831115611f3957611f39611bb5565b611f58565b6001600160ff1b03839005831215611f5857611f58611bb5565b5080831615611f645750805b611f748360011c83840283611e82565b600082136001600160ff1b0382900483111615611f9357611f93611bb5565b60008212600160ff1b82900583121615611faf57611faf611bb5565b029392505050565b600061055c8383611ecf565b80820260008212600160ff1b84141615611fdf57611fdf611bb5565b818105831482151761051557610515611bb5565b60008160030b637fffffff19810361200d5761200d611bb5565b60000392915050565b60008261202557612025611be2565b600160ff1b82146000198414161561203f5761203f611bb5565b500590565b634e487b7160e01b600052603260045260246000fd5b6000808335601e1984360301811261207157600080fd5b8301803591506001600160401b0382111561208b57600080fd5b60200191503681900382131561184157600080fd5b6000600182016120b2576120b2611bb5565b5060010190565b60208082528181018390526000906040600585901b8401810190840186845b8781101561214757868403603f190183528135368a9003601e190181126120fe57600080fd5b890185810190356001600160401b0381111561211957600080fd5b80360382131561212857600080fd5b612133868284611c0c565b9550505091840191908401906001016120d8565b5091979650505050505050565b60006020828403121561216657600080fd5b5051919050565b60006020828403121561217f57600080fd5b8151801515811461055c57600080fd5b60006001600160401b038211156121a8576121a86118d4565b5060051b60200190565b600082601f8301126121c357600080fd5b815160206121d36119888361218f565b82815260059290921b840181019181810190868411156121f257600080fd5b8286015b8481101561220d57805183529183019183016121f6565b509695505050505050565b600080604080848603121561222c57600080fd5b83516001600160401b038082111561224357600080fd5b818601915086601f83011261225757600080fd5b815160206122676119888361218f565b82815260059290921b8401810191818101908a84111561228657600080fd5b8286015b848110156122f7578051868111156122a25760008081fd5b8701603f81018d136122b45760008081fd5b848101516122c46119888261191a565b8181528e8b8385010111156122d95760008081fd5b6122e8828883018d8601611a6f565b8552505091830191830161228a565b509189015191975090945050508083111561231157600080fd5b505061231f858286016121b2565b9150509250929050565b8082018082111561051557610515611bb5565b8181038181111561051557610515611bb5565b60008251612361818460208701611a6f565b9190910192915050565b81516001600160401b03811115612384576123846118d4565b612398816123928454611c59565b84611c93565b602080601f8311600181146123cd57600084156123b55750858301515b600019600386901b1c1916600185901b178555611cd9565b600085815260208120601f198616915b828110156123fc578886015182559484019460019091019084016123dd565b508582101561241a5787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220df277855e43534600b5f67f334a6330e95941cf4d1c912fb7c5f1fba1d0718d764736f6c63430008140033",
  "devdoc": {
    "details": "This is the CORE INNOVATION of EquiBaskets.      Unlike single-asset oracles that just return a price, this oracle      COMPUTES FINANCIAL MEANING by:      1. Reading basket composition from BasketRegistry      2. Fetching price for each underlying asset      3. Computing weighted average basket price      Asset prices are pulled from Pyth price feeds (configured per asset).       All prices are stored and returned in 1e18 format.      For example, $100 = 100 * 1e18 = 100000000000000000000       The MNT/USD price is also stored here for collateral valuation.",
    "errors": {
      "OwnableInvalidOwner(address)": [
        {
          "details": "The owner is not a valid owner account. (eg. `address(0)`)"
        }
      ],
      "OwnableUnauthorizedAccount(address)": [
        {
          "details": "The caller account is not authorized to perform an operation."
        }
      ]
    },
    "kind": "dev",
    "methods": {
      "batchSetAssetPriceFeeds(string[],bytes32[])": {
        "params": {
          "assetIds": "Array of asset identifiers",
          "priceFeedIds": "Array of Pyth price feed identifiers"
        }
      },
      "constructor": {
        "params": {
          "_basketRegistry": "Address of the BasketRegistry contract"
        }
      },
      "getAllRegisteredAssets()": {
        "returns": {
          "_0": "Array of asset identifier strings"
        }
      },
      "getAssetPrice(string)": {
        "params": {
          "assetId": "Asset identifier"
        },
        "returns": {
          "price": "Asset price in 1e18 USD format"
        }
      },
      "getAssetPriceDebug(string)": {
        "params": {
          "assetId": "Asset identifier"
        },
        "returns": {
          "conf": "Confidence interval",
          "expo": "Pyth exponent",
          "publishTime": "Oracle publish time",
          "rawPrice": "Raw Pyth price",
          "scaledPrice": "Price scaled to 1e18"
        }
      },
      "getBasketPrice(uint256)": {
        "details": "This is the CORE function of EquiBaskets oracle.      It computes the basket price by:      1. Reading composition from BasketRegistry      2. Fetching price for each asset      3. Computing weighted average: sum(price[i] * weight[i]) / 10000",
        "params": {
          "basketId": "The basket ID to get price for"
        },
        "returns": {
          "price": "Basket price in 1e18 USD format"
        }
      },
      "getMntFromUsdValue(uint256)": {
        "params": {
          "usdValue": "USD value in 1e18 format"
        },
        "returns": {
          "mntAmount": "MNT amount in 1e18 format"
        }
      },
      "getMntValue(uint256)": {
        "params": {
          "mntAmount": "Amount of MNT tokens (in 1e18)"
        },
        "returns": {
          "usdValue": "USD value in 1e18 format"
        }
      },
      "getPythUpdateFee(bytes[])": {
        "params": {
          "priceUpdate": "Pyth price update data blob(s) fetched off-chain"
        }
      },
      "getRegisteredAssetCount()": {
        "returns": {
          "_0": "Count of registered assets"
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "registerAsset(string,bytes32)": {
        "params": {
          "assetId": "Asset identifier (e.g., \"AAPL\", \"GOLD\")",
          "priceFeedId": "Pyth price feed identifier"
        }
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "setAssetPriceFeed(string,bytes32)": {
        "params": {
          "assetId": "Asset identifier",
          "priceFeedId": "New Pyth price feed identifier"
        }
      },
      "setMntPrice(uint256)": {
        "params": {
          "newPrice": "New MNT/USD price in 1e18 format"
        }
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "updatePriceFeeds(bytes[])": {
        "details": "Callers must provide at least the required fee; any excess is refunded.",
        "params": {
          "priceUpdate": "Encoded price update payload(s) from Pyth Hermes"
        },
        "returns": {
          "feePaid": "The fee forwarded to Pyth"
        }
      },
      "validateBasketPrices(uint256)": {
        "params": {
          "basketId": "The basket ID to check"
        },
        "returns": {
          "missingAsset": "The first missing asset (if any)",
          "valid": "True if all asset prices are available"
        }
      }
    },
    "stateVariables": {
      "mntUsdPrice": {
        "details": "Used for calculating collateral value in the vault"
      }
    },
    "title": "BasketOracle",
    "version": 1
  },
  "userdoc": {
    "errors": {
      "AssetAlreadyRegistered(string)": [
        {
          "notice": "Thrown when asset is already registered"
        }
      ],
      "AssetPriceNotAvailable(string)": [
        {
          "notice": "Thrown when asset price is not available"
        }
      ],
      "BasketDoesNotExist()": [
        {
          "notice": "Thrown when basket doesn't exist"
        }
      ],
      "InsufficientUpdateFee(uint256,uint256)": [
        {
          "notice": "Thrown when insufficient fee is provided to update Pyth price feeds"
        }
      ],
      "InvalidPriceFeedId(string)": [
        {
          "notice": "Thrown when a price feed id is missing or invalid"
        }
      ],
      "MntPriceNotSet()": [
        {
          "notice": "Thrown when MNT price is not set"
        }
      ],
      "ZeroPrice()": [
        {
          "notice": "Thrown when price is zero"
        }
      ]
    },
    "events": {
      "AssetPriceFeedUpdated(string,bytes32,bytes32)": {
        "notice": "Emitted when an asset price feed is updated"
      },
      "AssetRegistered(string,bytes32)": {
        "notice": "Emitted when a new asset is registered"
      },
      "MntPriceUpdated(uint256,uint256)": {
        "notice": "Emitted when MNT/USD price is updated"
      }
    },
    "kind": "user",
    "methods": {
      "assetPriceFeedIds(string)": {
        "notice": "Mapping from asset identifier to Pyth price feed id"
      },
      "basketRegistry()": {
        "notice": "Reference to the BasketRegistry for reading composition"
      },
      "batchSetAssetPriceFeeds(string[],bytes32[])": {
        "notice": "Batch update multiple asset price feeds"
      },
      "constructor": {
        "notice": "Initialize the BasketOracle with a registry reference"
      },
      "getAllRegisteredAssets()": {
        "notice": "Get all registered asset identifiers"
      },
      "getAssetPrice(string)": {
        "notice": "Get individual asset price"
      },
      "getAssetPriceDebug(string)": {
        "notice": "Debug helper to inspect raw Pyth data and scaled price"
      },
      "getBasketPrice(uint256)": {
        "notice": "Get the weighted price of a basket"
      },
      "getMntFromUsdValue(uint256)": {
        "notice": "Get the MNT amount equivalent to a USD value"
      },
      "getMntValue(uint256)": {
        "notice": "Get MNT to USD value"
      },
      "getPythUpdateFee(bytes[])": {
        "notice": "Calculate the fee required to update Pyth price feeds for given updates"
      },
      "getRegisteredAssetCount()": {
        "notice": "Get the number of registered assets"
      },
      "isAssetRegistered(string)": {
        "notice": "Mapping to check if an asset is registered"
      },
      "mntUsdPrice()": {
        "notice": "MNT/USD price in 1e18 format"
      },
      "registerAsset(string,bytes32)": {
        "notice": "Register a new asset with its price feed"
      },
      "registeredAssets(uint256)": {
        "notice": "List of all registered asset identifiers"
      },
      "setAssetPriceFeed(string,bytes32)": {
        "notice": "/**Update the price feed of an asset"
      },
      "setMntPrice(uint256)": {
        "notice": "Update MNT/USD price"
      },
      "updatePriceFeeds(bytes[])": {
        "notice": "Push fresh Pyth price updates on-chain so subsequent reads succeed"
      },
      "validateBasketPrices(uint256)": {
        "notice": "Check if a basket has all required asset prices"
      }
    },
    "notice": "Oracle for computing basket prices from individual asset prices",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 3018,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "assetPriceFeedIds",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_string_memory_ptr,t_bytes32)"
      },
      {
        "astId": 3022,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "registeredAssets",
        "offset": 0,
        "slot": "2",
        "type": "t_array(t_string_storage)dyn_storage"
      },
      {
        "astId": 3027,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "isAssetRegistered",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_string_memory_ptr,t_bool)"
      },
      {
        "astId": 3030,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "mntUsdPrice",
        "offset": 0,
        "slot": "4",
        "type": "t_uint256"
      },
      {
        "astId": 3033,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "pyth",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(IPyth)1744"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_string_storage)dyn_storage": {
        "base": "t_string_storage",
        "encoding": "dynamic_array",
        "label": "string[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_contract(IPyth)1744": {
        "encoding": "inplace",
        "label": "contract IPyth",
        "numberOfBytes": "20"
      },
      "t_mapping(t_string_memory_ptr,t_bool)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_string_memory_ptr,t_bytes32)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => bytes32)",
        "numberOfBytes": "32",
        "value": "t_bytes32"
      },
      "t_string_memory_ptr": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}