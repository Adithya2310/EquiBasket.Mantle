{
  "address": "0xc0c575bD5D58f9f19C84a2EEB911FcAbd38654c8",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_basketRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "AssetAlreadyRegistered",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "AssetPriceNotAvailable",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BasketDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MntPriceNotSet",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroPrice",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "AssetPriceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "initialPrice",
          "type": "uint256"
        }
      ],
      "name": "AssetRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "MntPriceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "assetPrices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "basketRegistry",
      "outputs": [
        {
          "internalType": "contract BasketRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string[]",
          "name": "assetIds",
          "type": "string[]"
        },
        {
          "internalType": "uint256[]",
          "name": "prices",
          "type": "uint256[]"
        }
      ],
      "name": "batchSetAssetPrices",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllRegisteredAssets",
      "outputs": [
        {
          "internalType": "string[]",
          "name": "",
          "type": "string[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        }
      ],
      "name": "getAssetPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basketId",
          "type": "uint256"
        }
      ],
      "name": "getBasketPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "usdValue",
          "type": "uint256"
        }
      ],
      "name": "getMntFromUsdValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "mntAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "mntAmount",
          "type": "uint256"
        }
      ],
      "name": "getMntValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "usdValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getRegisteredAssetCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "isAssetRegistered",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "mntUsdPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "registerAsset",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registeredAssets",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "assetId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "setAssetPrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "setMntPrice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "basketId",
          "type": "uint256"
        }
      ],
      "name": "validateBasketPrices",
      "outputs": [
        {
          "internalType": "bool",
          "name": "valid",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "missingAsset",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xd1b1a81dc37ece80b96d1c94365a862e361a76d0baf917b59e80c2a69586e86d",
  "receipt": {
    "to": null,
    "from": "0x15ac9ed46c545D594B57aFe20F0f268F182A481f",
    "contractAddress": "0xc0c575bD5D58f9f19C84a2EEB911FcAbd38654c8",
    "transactionIndex": 1,
    "gasUsed": "7005312195",
    "logsBloom": "0x00000000800000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000001000000004000000000000000000000000000020000000000000000010800000000000000004000000000000000400000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x02cc3fc708d76d175135c6cb4e48af00b0359393b8173bed763a7d044ff3fe18",
    "transactionHash": "0xd1b1a81dc37ece80b96d1c94365a862e361a76d0baf917b59e80c2a69586e86d",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 32782049,
        "transactionHash": "0xd1b1a81dc37ece80b96d1c94365a862e361a76d0baf917b59e80c2a69586e86d",
        "address": "0xc0c575bD5D58f9f19C84a2EEB911FcAbd38654c8",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x00000000000000000000000015ac9ed46c545d594b57afe20f0f268f182a481f"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0x02cc3fc708d76d175135c6cb4e48af00b0359393b8173bed763a7d044ff3fe18"
      }
    ],
    "blockNumber": 32782049,
    "cumulativeGasUsed": "7005359072",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x4D03bfC19572c19E57B90Ca2Bb585abb2F005068"
  ],
  "numDeployments": 1,
  "solcInputHash": "f0169bfedb7645b819f7700a9b21c292",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_basketRegistry\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"AssetAlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"AssetPriceNotAvailable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BasketDoesNotExist\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MntPriceNotSet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroPrice\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"AssetPriceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"initialPrice\",\"type\":\"uint256\"}],\"name\":\"AssetRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"MntPriceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"assetPrices\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"basketRegistry\",\"outputs\":[{\"internalType\":\"contract BasketRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string[]\",\"name\":\"assetIds\",\"type\":\"string[]\"},{\"internalType\":\"uint256[]\",\"name\":\"prices\",\"type\":\"uint256[]\"}],\"name\":\"batchSetAssetPrices\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllRegisteredAssets\",\"outputs\":[{\"internalType\":\"string[]\",\"name\":\"\",\"type\":\"string[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"}],\"name\":\"getAssetPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"basketId\",\"type\":\"uint256\"}],\"name\":\"getBasketPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"usdValue\",\"type\":\"uint256\"}],\"name\":\"getMntFromUsdValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"mntAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"mntAmount\",\"type\":\"uint256\"}],\"name\":\"getMntValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"usdValue\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRegisteredAssetCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"isAssetRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"mntUsdPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"registerAsset\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"registeredAssets\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"assetId\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"setAssetPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"newPrice\",\"type\":\"uint256\"}],\"name\":\"setMntPrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"basketId\",\"type\":\"uint256\"}],\"name\":\"validateBasketPrices\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"valid\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"missingAsset\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This is the CORE INNOVATION of EquiBaskets.      Unlike single-asset oracles that just return a price, this oracle      COMPUTES FINANCIAL MEANING by:      1. Reading basket composition from BasketRegistry      2. Fetching price for each underlying asset      3. Computing weighted average basket price       For the hackathon, asset prices are hardcoded on-chain in USD format.      This module is intentionally designed to be replaced later with a      real oracle integration (e.g., Pyth, Chainlink).       All prices are stored and returned in 1e18 format.      For example, $100 = 100 * 1e18 = 100000000000000000000       The MNT/USD price is also stored here for collateral valuation.\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"batchSetAssetPrices(string[],uint256[])\":{\"params\":{\"assetIds\":\"Array of asset identifiers\",\"prices\":\"Array of new prices in 1e18 format\"}},\"constructor\":{\"params\":{\"_basketRegistry\":\"Address of the BasketRegistry contract\"}},\"getAllRegisteredAssets()\":{\"returns\":{\"_0\":\"Array of asset identifier strings\"}},\"getAssetPrice(string)\":{\"params\":{\"assetId\":\"Asset identifier\"},\"returns\":{\"price\":\"Asset price in 1e18 USD format\"}},\"getBasketPrice(uint256)\":{\"details\":\"This is the CORE function of EquiBaskets oracle.      It computes the basket price by:      1. Reading composition from BasketRegistry      2. Fetching price for each asset      3. Computing weighted average: sum(price[i] * weight[i]) / 10000\",\"params\":{\"basketId\":\"The basket ID to get price for\"},\"returns\":{\"price\":\"Basket price in 1e18 USD format\"}},\"getMntFromUsdValue(uint256)\":{\"params\":{\"usdValue\":\"USD value in 1e18 format\"},\"returns\":{\"mntAmount\":\"MNT amount in 1e18 format\"}},\"getMntValue(uint256)\":{\"params\":{\"mntAmount\":\"Amount of MNT tokens (in 1e18)\"},\"returns\":{\"usdValue\":\"USD value in 1e18 format\"}},\"getRegisteredAssetCount()\":{\"returns\":{\"_0\":\"Count of registered assets\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"registerAsset(string,uint256)\":{\"params\":{\"assetId\":\"Asset identifier (e.g., \\\"AAPL\\\", \\\"GOLD\\\")\",\"price\":\"Initial price in 1e18 format\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setAssetPrice(string,uint256)\":{\"params\":{\"assetId\":\"Asset identifier\",\"newPrice\":\"New price in 1e18 format\"}},\"setMntPrice(uint256)\":{\"params\":{\"newPrice\":\"New MNT/USD price in 1e18 format\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"validateBasketPrices(uint256)\":{\"params\":{\"basketId\":\"The basket ID to check\"},\"returns\":{\"missingAsset\":\"The first missing asset (if any)\",\"valid\":\"True if all asset prices are available\"}}},\"stateVariables\":{\"mntUsdPrice\":{\"details\":\"Used for calculating collateral value in the vault\"}},\"title\":\"BasketOracle\",\"version\":1},\"userdoc\":{\"errors\":{\"AssetAlreadyRegistered(string)\":[{\"notice\":\"Thrown when asset is already registered\"}],\"AssetPriceNotAvailable(string)\":[{\"notice\":\"Thrown when asset price is not available\"}],\"BasketDoesNotExist()\":[{\"notice\":\"Thrown when basket doesn't exist\"}],\"MntPriceNotSet()\":[{\"notice\":\"Thrown when MNT price is not set\"}],\"ZeroPrice()\":[{\"notice\":\"Thrown when price is zero\"}]},\"events\":{\"AssetPriceUpdated(string,uint256,uint256)\":{\"notice\":\"Emitted when an asset price is updated\"},\"AssetRegistered(string,uint256)\":{\"notice\":\"Emitted when a new asset is registered\"},\"MntPriceUpdated(uint256,uint256)\":{\"notice\":\"Emitted when MNT/USD price is updated\"}},\"kind\":\"user\",\"methods\":{\"assetPrices(string)\":{\"notice\":\"Mapping from asset identifier to USD price (1e18 format)\"},\"basketRegistry()\":{\"notice\":\"Reference to the BasketRegistry for reading composition\"},\"batchSetAssetPrices(string[],uint256[])\":{\"notice\":\"Batch update multiple asset prices\"},\"constructor\":{\"notice\":\"Initialize the BasketOracle with a registry reference\"},\"getAllRegisteredAssets()\":{\"notice\":\"Get all registered asset identifiers\"},\"getAssetPrice(string)\":{\"notice\":\"Get individual asset price\"},\"getBasketPrice(uint256)\":{\"notice\":\"Get the weighted price of a basket\"},\"getMntFromUsdValue(uint256)\":{\"notice\":\"Get the MNT amount equivalent to a USD value\"},\"getMntValue(uint256)\":{\"notice\":\"Get MNT to USD value\"},\"getRegisteredAssetCount()\":{\"notice\":\"Get the number of registered assets\"},\"isAssetRegistered(string)\":{\"notice\":\"Mapping to check if an asset is registered\"},\"mntUsdPrice()\":{\"notice\":\"MNT/USD price in 1e18 format\"},\"registerAsset(string,uint256)\":{\"notice\":\"Register a new asset with initial price\"},\"registeredAssets(uint256)\":{\"notice\":\"List of all registered asset identifiers\"},\"setAssetPrice(string,uint256)\":{\"notice\":\"Update the price of an asset\"},\"setMntPrice(uint256)\":{\"notice\":\"Update MNT/USD price\"},\"validateBasketPrices(uint256)\":{\"notice\":\"Check if a basket has all required asset prices\"}},\"notice\":\"Oracle for computing basket prices from individual asset prices\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/BasketOracle.sol\":\"BasketOracle\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The initial owner is set to the address provided by the deployer. This can\\n * later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    /**\\n     * @dev The caller account is not authorized to perform an operation.\\n     */\\n    error OwnableUnauthorizedAccount(address account);\\n\\n    /**\\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\\n     */\\n    error OwnableInvalidOwner(address owner);\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\\n     */\\n    constructor(address initialOwner) {\\n        if (initialOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(initialOwner);\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        if (owner() != _msgSender()) {\\n            revert OwnableUnauthorizedAccount(_msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        if (newOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\"},\"contracts/BasketOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport \\\"./BasketRegistry.sol\\\";\\n\\n/**\\n * @title BasketOracle\\n * @notice Oracle for computing basket prices from individual asset prices\\n * @dev This is the CORE INNOVATION of EquiBaskets.\\n *      Unlike single-asset oracles that just return a price, this oracle\\n *      COMPUTES FINANCIAL MEANING by:\\n *      1. Reading basket composition from BasketRegistry\\n *      2. Fetching price for each underlying asset\\n *      3. Computing weighted average basket price\\n * \\n *      For the hackathon, asset prices are hardcoded on-chain in USD format.\\n *      This module is intentionally designed to be replaced later with a\\n *      real oracle integration (e.g., Pyth, Chainlink).\\n * \\n *      All prices are stored and returned in 1e18 format.\\n *      For example, $100 = 100 * 1e18 = 100000000000000000000\\n * \\n *      The MNT/USD price is also stored here for collateral valuation.\\n */\\ncontract BasketOracle is Ownable {\\n    // ============================================================\\n    // ========================== STATE ===========================\\n    // ============================================================\\n    \\n    /// @notice Reference to the BasketRegistry for reading composition\\n    BasketRegistry public immutable basketRegistry;\\n    \\n    /// @notice Mapping from asset identifier to USD price (1e18 format)\\n    mapping(string => uint256) public assetPrices;\\n    \\n    /// @notice List of all registered asset identifiers\\n    string[] public registeredAssets;\\n    \\n    /// @notice Mapping to check if an asset is registered\\n    mapping(string => bool) public isAssetRegistered;\\n    \\n    /// @notice MNT/USD price in 1e18 format\\n    /// @dev Used for calculating collateral value in the vault\\n    uint256 public mntUsdPrice;\\n    \\n    // ============================================================\\n    // ========================= EVENTS ===========================\\n    // ============================================================\\n    \\n    /// @notice Emitted when an asset price is updated\\n    event AssetPriceUpdated(string indexed assetId, uint256 oldPrice, uint256 newPrice);\\n    \\n    /// @notice Emitted when MNT/USD price is updated\\n    event MntPriceUpdated(uint256 oldPrice, uint256 newPrice);\\n    \\n    /// @notice Emitted when a new asset is registered\\n    event AssetRegistered(string assetId, uint256 initialPrice);\\n    \\n    // ============================================================\\n    // ========================= ERRORS ===========================\\n    // ============================================================\\n    \\n    /// @notice Thrown when basket doesn't exist\\n    error BasketDoesNotExist();\\n    \\n    /// @notice Thrown when asset price is not available\\n    error AssetPriceNotAvailable(string assetId);\\n    \\n    /// @notice Thrown when MNT price is not set\\n    error MntPriceNotSet();\\n    \\n    /// @notice Thrown when price is zero\\n    error ZeroPrice();\\n    \\n    /// @notice Thrown when asset is already registered\\n    error AssetAlreadyRegistered(string assetId);\\n\\n    // ============================================================\\n    // ====================== CONSTRUCTOR =========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Initialize the BasketOracle with a registry reference\\n     * @param _basketRegistry Address of the BasketRegistry contract\\n     */\\n    constructor(address _basketRegistry) Ownable(msg.sender) {\\n        basketRegistry = BasketRegistry(_basketRegistry);\\n        \\n        // Initialize with default prices for common assets (in 1e18 format)\\n        // These represent example assets that might be in baskets\\n        _registerAssetWithPrice(\\\"AAPL\\\", 175 * 1e18);    // Apple Inc. at $175\\n        _registerAssetWithPrice(\\\"NVDA\\\", 490 * 1e18);    // NVIDIA at $490\\n        _registerAssetWithPrice(\\\"GOLD\\\", 2050 * 1e18);   // Gold per oz at $2050\\n        _registerAssetWithPrice(\\\"SILVER\\\", 24 * 1e18);   // Silver per oz at $24\\n        _registerAssetWithPrice(\\\"HITACHI\\\", 92 * 1e18);  // Hitachi at $92\\n        _registerAssetWithPrice(\\\"MSFT\\\", 380 * 1e18);    // Microsoft at $380\\n        _registerAssetWithPrice(\\\"GOOGL\\\", 140 * 1e18);   // Alphabet at $140\\n        _registerAssetWithPrice(\\\"AMZN\\\", 155 * 1e18);    // Amazon at $155\\n        _registerAssetWithPrice(\\\"TSLA\\\", 250 * 1e18);    // Tesla at $250\\n        _registerAssetWithPrice(\\\"BTC\\\", 42000 * 1e18);   // Bitcoin at $42000\\n        \\n        // Initialize MNT price (example: $0.50)\\n        mntUsdPrice = 5 * 1e17; // 0.5 * 1e18\\n    }\\n\\n    // ============================================================\\n    // ================== INTERNAL FUNCTIONS ======================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Internal function to register an asset with initial price\\n     * @param assetId Asset identifier\\n     * @param price Initial price in 1e18 format\\n     */\\n    function _registerAssetWithPrice(string memory assetId, uint256 price) internal {\\n        assetPrices[assetId] = price;\\n        registeredAssets.push(assetId);\\n        isAssetRegistered[assetId] = true;\\n    }\\n\\n    // ============================================================\\n    // =================== ADMIN FUNCTIONS ========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Register a new asset with initial price\\n     * @param assetId Asset identifier (e.g., \\\"AAPL\\\", \\\"GOLD\\\")\\n     * @param price Initial price in 1e18 format\\n     */\\n    function registerAsset(string calldata assetId, uint256 price) external onlyOwner {\\n        if (isAssetRegistered[assetId]) revert AssetAlreadyRegistered(assetId);\\n        if (price == 0) revert ZeroPrice();\\n        \\n        _registerAssetWithPrice(assetId, price);\\n        \\n        emit AssetRegistered(assetId, price);\\n    }\\n    \\n    /**\\n     * @notice Update the price of an asset\\n     * @param assetId Asset identifier\\n     * @param newPrice New price in 1e18 format\\n     */\\n    function setAssetPrice(string calldata assetId, uint256 newPrice) external onlyOwner {\\n        if (newPrice == 0) revert ZeroPrice();\\n        \\n        uint256 oldPrice = assetPrices[assetId];\\n        assetPrices[assetId] = newPrice;\\n        \\n        // Auto-register if not already registered\\n        if (!isAssetRegistered[assetId]) {\\n            registeredAssets.push(assetId);\\n            isAssetRegistered[assetId] = true;\\n            emit AssetRegistered(assetId, newPrice);\\n        }\\n        \\n        emit AssetPriceUpdated(assetId, oldPrice, newPrice);\\n    }\\n    \\n    /**\\n     * @notice Update MNT/USD price\\n     * @param newPrice New MNT/USD price in 1e18 format\\n     */\\n    function setMntPrice(uint256 newPrice) external onlyOwner {\\n        if (newPrice == 0) revert ZeroPrice();\\n        \\n        uint256 oldPrice = mntUsdPrice;\\n        mntUsdPrice = newPrice;\\n        \\n        emit MntPriceUpdated(oldPrice, newPrice);\\n    }\\n    \\n    /**\\n     * @notice Batch update multiple asset prices\\n     * @param assetIds Array of asset identifiers\\n     * @param prices Array of new prices in 1e18 format\\n     */\\n    function batchSetAssetPrices(\\n        string[] calldata assetIds,\\n        uint256[] calldata prices\\n    ) external onlyOwner {\\n        require(assetIds.length == prices.length, \\\"Array length mismatch\\\");\\n        \\n        for (uint256 i = 0; i < assetIds.length; i++) {\\n            if (prices[i] == 0) revert ZeroPrice();\\n            \\n            uint256 oldPrice = assetPrices[assetIds[i]];\\n            assetPrices[assetIds[i]] = prices[i];\\n            \\n            if (!isAssetRegistered[assetIds[i]]) {\\n                registeredAssets.push(assetIds[i]);\\n                isAssetRegistered[assetIds[i]] = true;\\n                emit AssetRegistered(assetIds[i], prices[i]);\\n            }\\n            \\n            emit AssetPriceUpdated(assetIds[i], oldPrice, prices[i]);\\n        }\\n    }\\n\\n    // ============================================================\\n    // ================= CORE PRICING FUNCTIONS ===================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Get the weighted price of a basket\\n     * @dev This is the CORE function of EquiBaskets oracle.\\n     *      It computes the basket price by:\\n     *      1. Reading composition from BasketRegistry\\n     *      2. Fetching price for each asset\\n     *      3. Computing weighted average: sum(price[i] * weight[i]) / 10000\\n     * @param basketId The basket ID to get price for\\n     * @return price Basket price in 1e18 USD format\\n     */\\n    function getBasketPrice(uint256 basketId) external view returns (uint256 price) {\\n        // Verify basket exists\\n        if (!basketRegistry.basketExists(basketId)) revert BasketDoesNotExist();\\n        \\n        // Get basket composition\\n        (string[] memory assets, uint256[] memory weights) = basketRegistry.getBasketComposition(basketId);\\n        \\n        // Calculate weighted price\\n        // Sum of (asset_price * weight) / 10000\\n        // Using 1e18 precision throughout\\n        uint256 weightedSum = 0;\\n        \\n        for (uint256 i = 0; i < assets.length; i++) {\\n            uint256 assetPrice = assetPrices[assets[i]];\\n            if (assetPrice == 0) revert AssetPriceNotAvailable(assets[i]);\\n            \\n            // Accumulate weighted price\\n            // assetPrice is in 1e18, weight is in basis points (0-10000)\\n            weightedSum += assetPrice * weights[i];\\n        }\\n        \\n        // Divide by 10000 to get final price in 1e18 format\\n        price = weightedSum / 10000;\\n    }\\n    \\n    /**\\n     * @notice Get individual asset price\\n     * @param assetId Asset identifier\\n     * @return price Asset price in 1e18 USD format\\n     */\\n    function getAssetPrice(string calldata assetId) external view returns (uint256 price) {\\n        price = assetPrices[assetId];\\n        if (price == 0) revert AssetPriceNotAvailable(assetId);\\n    }\\n    \\n    /**\\n     * @notice Get MNT to USD value\\n     * @param mntAmount Amount of MNT tokens (in 1e18)\\n     * @return usdValue USD value in 1e18 format\\n     */\\n    function getMntValue(uint256 mntAmount) external view returns (uint256 usdValue) {\\n        if (mntUsdPrice == 0) revert MntPriceNotSet();\\n        // Both mntAmount and mntUsdPrice are in 1e18\\n        // Result needs to be in 1e18, so divide by 1e18\\n        usdValue = (mntAmount * mntUsdPrice) / 1e18;\\n    }\\n    \\n    /**\\n     * @notice Get the MNT amount equivalent to a USD value\\n     * @param usdValue USD value in 1e18 format\\n     * @return mntAmount MNT amount in 1e18 format\\n     */\\n    function getMntFromUsdValue(uint256 usdValue) external view returns (uint256 mntAmount) {\\n        if (mntUsdPrice == 0) revert MntPriceNotSet();\\n        // Inverse of getMntValue\\n        mntAmount = (usdValue * 1e18) / mntUsdPrice;\\n    }\\n\\n    // ============================================================\\n    // ==================== VIEW FUNCTIONS ========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Get all registered asset identifiers\\n     * @return Array of asset identifier strings\\n     */\\n    function getAllRegisteredAssets() external view returns (string[] memory) {\\n        return registeredAssets;\\n    }\\n    \\n    /**\\n     * @notice Get the number of registered assets\\n     * @return Count of registered assets\\n     */\\n    function getRegisteredAssetCount() external view returns (uint256) {\\n        return registeredAssets.length;\\n    }\\n    \\n    /**\\n     * @notice Check if a basket has all required asset prices\\n     * @param basketId The basket ID to check\\n     * @return valid True if all asset prices are available\\n     * @return missingAsset The first missing asset (if any)\\n     */\\n    function validateBasketPrices(uint256 basketId) external view returns (\\n        bool valid,\\n        string memory missingAsset\\n    ) {\\n        if (!basketRegistry.basketExists(basketId)) revert BasketDoesNotExist();\\n        \\n        (string[] memory assets, ) = basketRegistry.getBasketComposition(basketId);\\n        \\n        for (uint256 i = 0; i < assets.length; i++) {\\n            if (assetPrices[assets[i]] == 0) {\\n                return (false, assets[i]);\\n            }\\n        }\\n        \\n        return (true, \\\"\\\");\\n    }\\n}\\n\",\"keccak256\":\"0xaaef35972511d629d18519e3336e605b6ca9345053a0a404ce83cf94ce81d419\",\"license\":\"MIT\"},\"contracts/BasketRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\n\\n/**\\n * @title BasketRegistry\\n * @notice Registry for basket-based synthetic assets\\n * @dev This contract is the canonical on-chain source of truth for basket composition.\\n *      It stores basket metadata including:\\n *      - Asset composition (list of asset identifiers)\\n *      - Weights (in basis points, must sum to 10000)\\n *      - Creator address (fund creator role)\\n *      - Activation state\\n * \\n *      IMPORTANT: This contract is pure metadata storage.\\n *      No pricing logic should exist here - that belongs in BasketOracle.\\n * \\n *      The basketId is a unique identifier assigned sequentially to each basket.\\n *      Asset identifiers are strings (e.g., \\\"AAPL\\\", \\\"GOLD\\\", \\\"NVDA\\\") that are used\\n *      by the BasketOracle to look up prices.\\n */\\ncontract BasketRegistry is Ownable {\\n    // ============================================================\\n    // ====================== DATA STRUCTURES =====================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Represents a basket of synthetic assets\\n     * @param creator Address of the fund creator who created this basket\\n     * @param assets List of asset identifiers (e.g., [\\\"AAPL\\\", \\\"NVDA\\\", \\\"GOLD\\\"])\\n     * @param weights Weight of each asset in basis points (must sum to 10000)\\n     * @param active Whether this basket is active for minting/trading\\n     * @param name Human-readable name for the basket\\n     * @param symbol Token symbol for the basket token\\n     */\\n    struct Basket {\\n        address creator;\\n        string[] assets;\\n        uint256[] weights;\\n        bool active;\\n        string name;\\n        string symbol;\\n    }\\n\\n    // ============================================================\\n    // ========================== STATE ===========================\\n    // ============================================================\\n    \\n    /// @notice Counter for generating unique basket IDs\\n    uint256 public basketCount;\\n    \\n    /// @notice Mapping from basket ID to basket data\\n    mapping(uint256 => Basket) private baskets;\\n    \\n    /// @notice Mapping from basket creator to list of their basket IDs\\n    mapping(address => uint256[]) public creatorBaskets;\\n    \\n    // ============================================================\\n    // ========================= EVENTS ===========================\\n    // ============================================================\\n    \\n    /// @notice Emitted when a new basket is created\\n    /// @dev Full basket details can be queried via getBasket(basketId)\\n    event BasketCreated(\\n        uint256 indexed basketId,\\n        address indexed creator,\\n        uint256 assetCount\\n    );\\n    \\n    /// @notice Emitted when a basket's active state changes\\n    event BasketActiveStateChanged(uint256 indexed basketId, bool active);\\n    \\n    // ============================================================\\n    // ========================= ERRORS ===========================\\n    // ============================================================\\n    \\n    /// @notice Thrown when assets and weights arrays have different lengths\\n    error ArrayLengthMismatch();\\n    \\n    /// @notice Thrown when assets array is empty\\n    error EmptyAssetsArray();\\n    \\n    /// @notice Thrown when weights don't sum to 10000 basis points\\n    error InvalidWeightsSum();\\n    \\n    /// @notice Thrown when a weight is zero\\n    error ZeroWeight();\\n    \\n    /// @notice Thrown when basket doesn't exist\\n    error BasketDoesNotExist();\\n    \\n    /// @notice Thrown when caller is not the basket creator\\n    error NotBasketCreator();\\n\\n    // ============================================================\\n    // ====================== CONSTRUCTOR =========================\\n    // ============================================================\\n    \\n    constructor() Ownable(msg.sender) {\\n        // BasketRegistry starts with basketCount = 0\\n        // First basket created will have basketId = 1\\n    }\\n\\n    // ============================================================\\n    // =================== EXTERNAL FUNCTIONS =====================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Create a new basket with specified assets and weights\\n     * @dev Only callable by anyone (fund creator role).\\n     *      Weights must sum to 10000 basis points (100%).\\n     *      Each weight must be non-zero.\\n     * @param assets Array of asset identifiers\\n     * @param weights Array of weights in basis points\\n     * @param name Human-readable name for the basket\\n     * @param symbol Token symbol for the basket\\n     * @return basketId The unique ID assigned to the new basket\\n     */\\n    function createBasket(\\n        string[] calldata assets,\\n        uint256[] calldata weights,\\n        string calldata name,\\n        string calldata symbol\\n    ) external returns (uint256 basketId) {\\n        // Validate inputs\\n        uint256 assetLen = assets.length;\\n        if (assetLen == 0) revert EmptyAssetsArray();\\n        if (assetLen != weights.length) revert ArrayLengthMismatch();\\n        \\n        // Validate weights sum to 10000 basis points\\n        uint256 totalWeight = 0;\\n        for (uint256 i = 0; i < assetLen;) {\\n            if (weights[i] == 0) revert ZeroWeight();\\n            totalWeight += weights[i];\\n            unchecked { ++i; }\\n        }\\n        if (totalWeight != 10000) revert InvalidWeightsSum();\\n        \\n        // Generate new basket ID (starts from 1)\\n        basketId = ++basketCount;\\n        \\n        // Create the basket - store directly to avoid extra local vars\\n        Basket storage b = baskets[basketId];\\n        b.creator = msg.sender;\\n        b.active = true;\\n        b.name = name;\\n        b.symbol = symbol;\\n        \\n        // Copy assets and weights to storage\\n        for (uint256 i = 0; i < assetLen;) {\\n            b.assets.push(assets[i]);\\n            b.weights.push(weights[i]);\\n            unchecked { ++i; }\\n        }\\n        \\n        // Track creator's baskets\\n        creatorBaskets[msg.sender].push(basketId);\\n        \\n        emit BasketCreated(basketId, msg.sender, assetLen);\\n    }\\n    \\n    /**\\n     * @notice Deactivate a basket (only creator or owner)\\n     * @param basketId The basket to deactivate\\n     */\\n    function deactivateBasket(uint256 basketId) external {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        if (msg.sender != basket.creator && msg.sender != owner()) {\\n            revert NotBasketCreator();\\n        }\\n        \\n        basket.active = false;\\n        emit BasketActiveStateChanged(basketId, false);\\n    }\\n    \\n    /**\\n     * @notice Reactivate a basket (only creator or owner)\\n     * @param basketId The basket to reactivate\\n     */\\n    function reactivateBasket(uint256 basketId) external {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        if (msg.sender != basket.creator && msg.sender != owner()) {\\n            revert NotBasketCreator();\\n        }\\n        \\n        basket.active = true;\\n        emit BasketActiveStateChanged(basketId, true);\\n    }\\n\\n    // ============================================================\\n    // ==================== VIEW FUNCTIONS ========================\\n    // ============================================================\\n    \\n    /**\\n     * @notice Get complete basket data by ID\\n     * @param basketId The basket ID to query\\n     * @return creator The creator address\\n     * @return assets Array of asset identifiers\\n     * @return weights Array of weights in basis points\\n     * @return active Whether the basket is active\\n     * @return name Basket name\\n     * @return symbol Basket symbol\\n     */\\n    function getBasket(uint256 basketId) external view returns (\\n        address creator,\\n        string[] memory assets,\\n        uint256[] memory weights,\\n        bool active,\\n        string memory name,\\n        string memory symbol\\n    ) {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        \\n        return (\\n            basket.creator,\\n            basket.assets,\\n            basket.weights,\\n            basket.active,\\n            basket.name,\\n            basket.symbol\\n        );\\n    }\\n    \\n    /**\\n     * @notice Check if a basket is active\\n     * @param basketId The basket ID to check\\n     * @return True if active, false otherwise\\n     */\\n    function isBasketActive(uint256 basketId) external view returns (bool) {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        return basket.active;\\n    }\\n    \\n    /**\\n     * @notice Get basket composition (assets and weights only)\\n     * @param basketId The basket ID to query\\n     * @return assets Array of asset identifiers\\n     * @return weights Array of weights in basis points\\n     */\\n    function getBasketComposition(uint256 basketId) external view returns (\\n        string[] memory assets,\\n        uint256[] memory weights\\n    ) {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        return (basket.assets, basket.weights);\\n    }\\n    \\n    /**\\n     * @notice Get the number of assets in a basket\\n     * @param basketId The basket ID to query\\n     * @return Number of assets\\n     */\\n    function getBasketAssetCount(uint256 basketId) external view returns (uint256) {\\n        Basket storage basket = baskets[basketId];\\n        if (basket.creator == address(0)) revert BasketDoesNotExist();\\n        return basket.assets.length;\\n    }\\n    \\n    /**\\n     * @notice Get all basket IDs created by a specific address\\n     * @param creator The creator address to query\\n     * @return Array of basket IDs\\n     */\\n    function getBasketsByCreator(address creator) external view returns (uint256[] memory) {\\n        return creatorBaskets[creator];\\n    }\\n    \\n    /**\\n     * @notice Check if a basket exists\\n     * @param basketId The basket ID to check\\n     * @return True if exists, false otherwise\\n     */\\n    function basketExists(uint256 basketId) external view returns (bool) {\\n        return baskets[basketId].creator != address(0);\\n    }\\n}\\n\",\"keccak256\":\"0x90023bcb787d588dada2b19d7509f4b4d58d3d693deb486a48814e7ee5b4f3d0\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a06040523480156200001157600080fd5b5060405162001f6b38038062001f6b833981016040819052620000349162000357565b33806200005b57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b62000066816200026d565b506001600160a01b0381166080526040805180820190915260048152631050541360e21b6020820152620000a49068097c9ce4cf6d5c0000620002bd565b6040805180820190915260048152634e56444160e01b6020820152620000d490681a901db3de65680000620002bd565b60408051808201909152600481526311d3d31160e21b60208201526200010490686f21770aa26ec80000620002bd565b60408051808201909152600681526529a4a62b22a960d11b6020820152620001369068014d1120d7b1600000620002bd565b6040805180820190915260078152664849544143484960c81b602082015262000169906804fcc1a89027f00000620002bd565b6040805180820190915260048152631354d19560e21b602082015262000199906814998f32ac78700000620002bd565b60408051808201909152600581526411d3d3d1d360da1b6020820152620001ca90680796e3ea3f8ab00000620002bd565b60408051808201909152600481526320a6ad2760e11b6020820152620001fa906808670e9ec6598c0000620002bd565b60408051808201909152600481526354534c4160e01b60208201526200022a90680d8d726b7177a80000620002bd565b60408051808201909152600381526242544360e81b60208201526200025a906908e4d316827686400000620002bd565b506706f05b59d3b200006004556200052b565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80600183604051620002d0919062000389565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016200031e83826200045f565b50600160038360405162000333919062000389565b908152604051908190036020019020805491151560ff199092169190911790555050565b6000602082840312156200036a57600080fd5b81516001600160a01b03811681146200038257600080fd5b9392505050565b6000825160005b81811015620003ac576020818601810151858301520162000390565b506000920191825250919050565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620003e557607f821691505b6020821081036200040657634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200045a57600081815260208120601f850160051c81016020861015620004355750805b601f850160051c820191505b81811015620004565782815560010162000441565b5050505b505050565b81516001600160401b038111156200047b576200047b620003ba565b62000493816200048c8454620003d0565b846200040c565b602080601f831160018114620004cb5760008415620004b25750858301515b600019600386901b1c1916600185901b17855562000456565b600085815260208120601f198616915b82811015620004fc57888601518255948401946001909101908401620004db565b50858210156200051b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b608051611a086200056360003960008181610235015281816107a20152818161085501528181610a0a0152610aab0152611a086000f3fe608060405234801561001057600080fd5b50600436106101215760003560e01c8063b78107ca116100ad578063f2fde38b11610071578063f2fde38b14610285578063f4697dd714610298578063f61e9947146102b9578063f65db150146102cc578063f9172888146102df57600080fd5b8063b78107ca1461021d578063baf7548914610230578063c04eed0114610257578063d4edc4031461025f578063d8435ec31461027257600080fd5b8063767e4571116100f4578063767e4571146101a75780638da5cb5b146101ba57806395bfc49a146101df578063a083bd3c146101f4578063a79ed0651461021457600080fd5b8063136e0351146101265780632aedd0eb1461014c57806342d97aec1461015f578063715018a61461019d575b600080fd5b61013961013436600461110b565b61030a565b6040519081526020015b60405180910390f35b61013961015a36600461116c565b610356565b61018d61016d36600461121a565b805160208183018101805160038252928201919093012091525460ff1681565b6040519015158152602001610143565b6101a56103a9565b005b6101a56101b536600461110b565b6103bd565b6000546001600160a01b03165b6040516001600160a01b039091168152602001610143565b6101e761042b565b60405161014391906112e9565b61020761020236600461110b565b610504565b604051610143919061134b565b61013960045481565b6101a561022b366004611365565b6105b0565b6101c77f000000000000000000000000000000000000000000000000000000000000000081565b600254610139565b61013961026d36600461110b565b61074f565b61013961028036600461110b565b610789565b6101a56102933660046113b0565b6109a8565b6102ab6102a636600461110b565b6109e6565b6040516101439291906113d9565b6101a56102c7366004611440565b610bc6565b6101a56102da366004611365565b610f09565b6101396102ed36600461121a565b805160208183018101805160018252928201919093012091525481565b600060045460000361032f57604051633b003e8f60e21b815260040160405180910390fd5b670de0b6b3a76400006004548361034691906114c1565b61035091906114d8565b92915050565b60006001838360405161036a9291906114fa565b908152602001604051809103902054905080600003610350578282604051637c18527f60e11b81526004016103a0929190611533565b60405180910390fd5b6103b1610ffa565b6103bb6000611027565b565b6103c5610ffa565b806000036103e657604051634dfba02360e01b815260040160405180910390fd5b600480549082905560408051828152602081018490527f8f01dd7ba3e8a04f54bae3ba0045c524909bd9513ba381b37f583fdb81e41ad3910160405180910390a15050565b60606002805480602002602001604051908101604052809291908181526020016000905b828210156104fb57838290600052602060002001805461046e90611547565b80601f016020809104026020016040519081016040528092919081815260200182805461049a90611547565b80156104e75780601f106104bc576101008083540402835291602001916104e7565b820191906000526020600020905b8154815290600101906020018083116104ca57829003601f168201915b50505050508152602001906001019061044f565b50505050905090565b6002818154811061051457600080fd5b90600052602060002001600091509050805461052f90611547565b80601f016020809104026020016040519081016040528092919081815260200182805461055b90611547565b80156105a85780601f1061057d576101008083540402835291602001916105a8565b820191906000526020600020905b81548152906001019060200180831161058b57829003601f168201915b505050505081565b6105b8610ffa565b806000036105d957604051634dfba02360e01b815260040160405180910390fd5b6000600184846040516105ed9291906114fa565b908152602001604051809103902054905081600185856040516106119291906114fa565b908152602001604051809103902081905550600384846040516106359291906114fa565b9081526040519081900360200190205460ff166106f957600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016106898486836115d0565b5060016003858560405161069e9291906114fa565b908152604051908190036020018120805492151560ff19909316929092179091557f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606906106f09086908690869061168f565b60405180910390a15b83836040516107099291906114fa565b6040805191829003822083835260208301859052917f6f614e54fafe71f7c0a065e36894602ca7ed071e7be8df9bade0418e775fac56910160405180910390a250505050565b600060045460000361077457604051633b003e8f60e21b815260040160405180910390fd5b60045461034683670de0b6b3a76400006114c1565b604051632fed9b2d60e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632fed9b2d90602401602060405180830381865afa1580156107f1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081591906116b3565b6108325760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b81526004810183905260009081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063d2f7baf990602401600060405180830381865afa15801561089c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526108c4919081019061175e565b915091506000805b835181101561099257600060018583815181106108eb576108eb61186f565b60200260200101516040516109009190611885565b90815260200160405180910390205490508060000361094d5784828151811061092b5761092b61186f565b6020026020010151604051637c18527f60e11b81526004016103a0919061134b565b83828151811061095f5761095f61186f565b60200260200101518161097291906114c1565b61097c90846118a1565b925050808061098a906118b4565b9150506108cc565b5061099f612710826114d8565b95945050505050565b6109b0610ffa565b6001600160a01b0381166109da57604051631e4fbdf760e01b8152600060048201526024016103a0565b6109e381611027565b50565b604051632fed9b2d60e01b8152600481018290526000906060906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690632fed9b2d90602401602060405180830381865afa158015610a51573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a7591906116b3565b610a925760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063d2f7baf990602401600060405180830381865afa158015610afa573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b22919081019061175e565b50905060005b8151811015610ba9576001828281518110610b4557610b4561186f565b6020026020010151604051610b5a9190611885565b908152602001604051809103902054600003610b97576000828281518110610b8457610b8461186f565b6020026020010151935093505050915091565b80610ba1816118b4565b915050610b28565b506001604051806020016040528060008152509250925050915091565b610bce610ffa565b828114610c155760405162461bcd60e51b8152602060048201526015602482015274082e4e4c2f240d8cadccee8d040dad2e6dac2e8c6d605b1b60448201526064016103a0565b60005b83811015610f0257828282818110610c3257610c3261186f565b90506020020135600003610c5957604051634dfba02360e01b815260040160405180910390fd5b60006001868684818110610c6f57610c6f61186f565b9050602002810190610c8191906118cd565b604051610c8f9291906114fa565b9081526020016040518091039020549050838383818110610cb257610cb261186f565b905060200201356001878785818110610ccd57610ccd61186f565b9050602002810190610cdf91906118cd565b604051610ced9291906114fa565b908152604051908190036020019020556003868684818110610d1157610d1161186f565b9050602002810190610d2391906118cd565b604051610d319291906114fa565b9081526040519081900360200190205460ff16610e5b576002868684818110610d5c57610d5c61186f565b9050602002810190610d6e91906118cd565b82546001810184556000938452602090932090920191610d8e91836115d0565b5060016003878785818110610da557610da561186f565b9050602002810190610db791906118cd565b604051610dc59291906114fa565b908152604051908190036020019020805491151560ff199092169190911790557f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606868684818110610e1857610e1861186f565b9050602002810190610e2a91906118cd565b868686818110610e3c57610e3c61186f565b90506020020135604051610e529392919061168f565b60405180910390a15b858583818110610e6d57610e6d61186f565b9050602002810190610e7f91906118cd565b604051610e8d9291906114fa565b60405180910390207f6f614e54fafe71f7c0a065e36894602ca7ed071e7be8df9bade0418e775fac5682868686818110610ec957610ec961186f565b90506020020135604051610ee7929190918252602082015260400190565b60405180910390a25080610efa816118b4565b915050610c18565b5050505050565b610f11610ffa565b60038383604051610f239291906114fa565b9081526040519081900360200190205460ff1615610f585782826040516336d535c960e11b81526004016103a0929190611533565b80600003610f7957604051634dfba02360e01b815260040160405180910390fd5b610fba83838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250859250611077915050565b7f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606838383604051610fed9392919061168f565b60405180910390a1505050565b6000546001600160a01b031633146103bb5760405163118cdaa760e01b81523360048201526024016103a0565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b806001836040516110889190611885565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016110d48382611913565b5060016003836040516110e79190611885565b908152604051908190036020019020805491151560ff199092169190911790555050565b60006020828403121561111d57600080fd5b5035919050565b60008083601f84011261113657600080fd5b5081356001600160401b0381111561114d57600080fd5b60208301915083602082850101111561116557600080fd5b9250929050565b6000806020838503121561117f57600080fd5b82356001600160401b0381111561119557600080fd5b6111a185828601611124565b90969095509350505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156111eb576111eb6111ad565b604052919050565b60006001600160401b0382111561120c5761120c6111ad565b50601f01601f191660200190565b60006020828403121561122c57600080fd5b81356001600160401b0381111561124257600080fd5b8201601f8101841361125357600080fd5b8035611266611261826111f3565b6111c3565b81815285602083850101111561127b57600080fd5b81602084016020830137600091810160200191909152949350505050565b60005b838110156112b457818101518382015260200161129c565b50506000910152565b600081518084526112d5816020860160208601611299565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561133e57603f1988860301845261132c8583516112bd565b94509285019290850190600101611310565b5092979650505050505050565b60208152600061135e60208301846112bd565b9392505050565b60008060006040848603121561137a57600080fd5b83356001600160401b0381111561139057600080fd5b61139c86828701611124565b909790965060209590950135949350505050565b6000602082840312156113c257600080fd5b81356001600160a01b038116811461135e57600080fd5b82151581526040602082015260006113f460408301846112bd565b949350505050565b60008083601f84011261140e57600080fd5b5081356001600160401b0381111561142557600080fd5b6020830191508360208260051b850101111561116557600080fd5b6000806000806040858703121561145657600080fd5b84356001600160401b038082111561146d57600080fd5b611479888389016113fc565b9096509450602087013591508082111561149257600080fd5b5061149f878288016113fc565b95989497509550505050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610350576103506114ab565b6000826114f557634e487b7160e01b600052601260045260246000fd5b500490565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006113f460208301848661150a565b600181811c9082168061155b57607f821691505b60208210810361157b57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156115cb57600081815260208120601f850160051c810160208610156115a85750805b601f850160051c820191505b818110156115c7578281556001016115b4565b5050505b505050565b6001600160401b038311156115e7576115e76111ad565b6115fb836115f58354611547565b83611581565b6000601f84116001811461162f57600085156116175750838201355b600019600387901b1c1916600186901b178355610f02565b600083815260209020601f19861690835b828110156116605786850135825560209485019460019092019101611640565b508682101561167d5760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b6040815260006116a360408301858761150a565b9050826020830152949350505050565b6000602082840312156116c557600080fd5b8151801515811461135e57600080fd5b60006001600160401b038211156116ee576116ee6111ad565b5060051b60200190565b600082601f83011261170957600080fd5b81516020611719611261836116d5565b82815260059290921b8401810191818101908684111561173857600080fd5b8286015b84811015611753578051835291830191830161173c565b509695505050505050565b600080604080848603121561177257600080fd5b83516001600160401b038082111561178957600080fd5b818601915086601f83011261179d57600080fd5b815160206117ad611261836116d5565b82815260059290921b8401810191818101908a8411156117cc57600080fd5b8286015b8481101561183d578051868111156117e85760008081fd5b8701603f81018d136117fa5760008081fd5b8481015161180a611261826111f3565b8181528e8b83850101111561181f5760008081fd5b61182e828883018d8601611299565b855250509183019183016117d0565b509189015191975090945050508083111561185757600080fd5b5050611865858286016116f8565b9150509250929050565b634e487b7160e01b600052603260045260246000fd5b60008251611897818460208701611299565b9190910192915050565b80820180821115610350576103506114ab565b6000600182016118c6576118c66114ab565b5060010190565b6000808335601e198436030181126118e457600080fd5b8301803591506001600160401b038211156118fe57600080fd5b60200191503681900382131561116557600080fd5b81516001600160401b0381111561192c5761192c6111ad565b6119408161193a8454611547565b84611581565b602080601f831160018114611975576000841561195d5750858301515b600019600386901b1c1916600185901b1785556115c7565b600085815260208120601f198616915b828110156119a457888601518255948401946001909101908401611985565b50858210156119c25787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212200c9f60b8d12945b7afa2b5faa5f9cd6b153402d45f433de8381e93144aade7c664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106101215760003560e01c8063b78107ca116100ad578063f2fde38b11610071578063f2fde38b14610285578063f4697dd714610298578063f61e9947146102b9578063f65db150146102cc578063f9172888146102df57600080fd5b8063b78107ca1461021d578063baf7548914610230578063c04eed0114610257578063d4edc4031461025f578063d8435ec31461027257600080fd5b8063767e4571116100f4578063767e4571146101a75780638da5cb5b146101ba57806395bfc49a146101df578063a083bd3c146101f4578063a79ed0651461021457600080fd5b8063136e0351146101265780632aedd0eb1461014c57806342d97aec1461015f578063715018a61461019d575b600080fd5b61013961013436600461110b565b61030a565b6040519081526020015b60405180910390f35b61013961015a36600461116c565b610356565b61018d61016d36600461121a565b805160208183018101805160038252928201919093012091525460ff1681565b6040519015158152602001610143565b6101a56103a9565b005b6101a56101b536600461110b565b6103bd565b6000546001600160a01b03165b6040516001600160a01b039091168152602001610143565b6101e761042b565b60405161014391906112e9565b61020761020236600461110b565b610504565b604051610143919061134b565b61013960045481565b6101a561022b366004611365565b6105b0565b6101c77f000000000000000000000000000000000000000000000000000000000000000081565b600254610139565b61013961026d36600461110b565b61074f565b61013961028036600461110b565b610789565b6101a56102933660046113b0565b6109a8565b6102ab6102a636600461110b565b6109e6565b6040516101439291906113d9565b6101a56102c7366004611440565b610bc6565b6101a56102da366004611365565b610f09565b6101396102ed36600461121a565b805160208183018101805160018252928201919093012091525481565b600060045460000361032f57604051633b003e8f60e21b815260040160405180910390fd5b670de0b6b3a76400006004548361034691906114c1565b61035091906114d8565b92915050565b60006001838360405161036a9291906114fa565b908152602001604051809103902054905080600003610350578282604051637c18527f60e11b81526004016103a0929190611533565b60405180910390fd5b6103b1610ffa565b6103bb6000611027565b565b6103c5610ffa565b806000036103e657604051634dfba02360e01b815260040160405180910390fd5b600480549082905560408051828152602081018490527f8f01dd7ba3e8a04f54bae3ba0045c524909bd9513ba381b37f583fdb81e41ad3910160405180910390a15050565b60606002805480602002602001604051908101604052809291908181526020016000905b828210156104fb57838290600052602060002001805461046e90611547565b80601f016020809104026020016040519081016040528092919081815260200182805461049a90611547565b80156104e75780601f106104bc576101008083540402835291602001916104e7565b820191906000526020600020905b8154815290600101906020018083116104ca57829003601f168201915b50505050508152602001906001019061044f565b50505050905090565b6002818154811061051457600080fd5b90600052602060002001600091509050805461052f90611547565b80601f016020809104026020016040519081016040528092919081815260200182805461055b90611547565b80156105a85780601f1061057d576101008083540402835291602001916105a8565b820191906000526020600020905b81548152906001019060200180831161058b57829003601f168201915b505050505081565b6105b8610ffa565b806000036105d957604051634dfba02360e01b815260040160405180910390fd5b6000600184846040516105ed9291906114fa565b908152602001604051809103902054905081600185856040516106119291906114fa565b908152602001604051809103902081905550600384846040516106359291906114fa565b9081526040519081900360200190205460ff166106f957600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016106898486836115d0565b5060016003858560405161069e9291906114fa565b908152604051908190036020018120805492151560ff19909316929092179091557f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606906106f09086908690869061168f565b60405180910390a15b83836040516107099291906114fa565b6040805191829003822083835260208301859052917f6f614e54fafe71f7c0a065e36894602ca7ed071e7be8df9bade0418e775fac56910160405180910390a250505050565b600060045460000361077457604051633b003e8f60e21b815260040160405180910390fd5b60045461034683670de0b6b3a76400006114c1565b604051632fed9b2d60e01b8152600481018290526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632fed9b2d90602401602060405180830381865afa1580156107f1573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081591906116b3565b6108325760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b81526004810183905260009081906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063d2f7baf990602401600060405180830381865afa15801561089c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526108c4919081019061175e565b915091506000805b835181101561099257600060018583815181106108eb576108eb61186f565b60200260200101516040516109009190611885565b90815260200160405180910390205490508060000361094d5784828151811061092b5761092b61186f565b6020026020010151604051637c18527f60e11b81526004016103a0919061134b565b83828151811061095f5761095f61186f565b60200260200101518161097291906114c1565b61097c90846118a1565b925050808061098a906118b4565b9150506108cc565b5061099f612710826114d8565b95945050505050565b6109b0610ffa565b6001600160a01b0381166109da57604051631e4fbdf760e01b8152600060048201526024016103a0565b6109e381611027565b50565b604051632fed9b2d60e01b8152600481018290526000906060906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690632fed9b2d90602401602060405180830381865afa158015610a51573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a7591906116b3565b610a925760405163351dc42760e01b815260040160405180910390fd5b60405163d2f7baf960e01b8152600481018490526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063d2f7baf990602401600060405180830381865afa158015610afa573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b22919081019061175e565b50905060005b8151811015610ba9576001828281518110610b4557610b4561186f565b6020026020010151604051610b5a9190611885565b908152602001604051809103902054600003610b97576000828281518110610b8457610b8461186f565b6020026020010151935093505050915091565b80610ba1816118b4565b915050610b28565b506001604051806020016040528060008152509250925050915091565b610bce610ffa565b828114610c155760405162461bcd60e51b8152602060048201526015602482015274082e4e4c2f240d8cadccee8d040dad2e6dac2e8c6d605b1b60448201526064016103a0565b60005b83811015610f0257828282818110610c3257610c3261186f565b90506020020135600003610c5957604051634dfba02360e01b815260040160405180910390fd5b60006001868684818110610c6f57610c6f61186f565b9050602002810190610c8191906118cd565b604051610c8f9291906114fa565b9081526020016040518091039020549050838383818110610cb257610cb261186f565b905060200201356001878785818110610ccd57610ccd61186f565b9050602002810190610cdf91906118cd565b604051610ced9291906114fa565b908152604051908190036020019020556003868684818110610d1157610d1161186f565b9050602002810190610d2391906118cd565b604051610d319291906114fa565b9081526040519081900360200190205460ff16610e5b576002868684818110610d5c57610d5c61186f565b9050602002810190610d6e91906118cd565b82546001810184556000938452602090932090920191610d8e91836115d0565b5060016003878785818110610da557610da561186f565b9050602002810190610db791906118cd565b604051610dc59291906114fa565b908152604051908190036020019020805491151560ff199092169190911790557f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606868684818110610e1857610e1861186f565b9050602002810190610e2a91906118cd565b868686818110610e3c57610e3c61186f565b90506020020135604051610e529392919061168f565b60405180910390a15b858583818110610e6d57610e6d61186f565b9050602002810190610e7f91906118cd565b604051610e8d9291906114fa565b60405180910390207f6f614e54fafe71f7c0a065e36894602ca7ed071e7be8df9bade0418e775fac5682868686818110610ec957610ec961186f565b90506020020135604051610ee7929190918252602082015260400190565b60405180910390a25080610efa816118b4565b915050610c18565b5050505050565b610f11610ffa565b60038383604051610f239291906114fa565b9081526040519081900360200190205460ff1615610f585782826040516336d535c960e11b81526004016103a0929190611533565b80600003610f7957604051634dfba02360e01b815260040160405180910390fd5b610fba83838080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250859250611077915050565b7f601aa1d7f8fdb08c3bc21a7f74f66aa36677a3ac3f2c0d5f2d01e62fc576c606838383604051610fed9392919061168f565b60405180910390a1505050565b6000546001600160a01b031633146103bb5760405163118cdaa760e01b81523360048201526024016103a0565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b806001836040516110889190611885565b90815260405190819003602001902055600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace016110d48382611913565b5060016003836040516110e79190611885565b908152604051908190036020019020805491151560ff199092169190911790555050565b60006020828403121561111d57600080fd5b5035919050565b60008083601f84011261113657600080fd5b5081356001600160401b0381111561114d57600080fd5b60208301915083602082850101111561116557600080fd5b9250929050565b6000806020838503121561117f57600080fd5b82356001600160401b0381111561119557600080fd5b6111a185828601611124565b90969095509350505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156111eb576111eb6111ad565b604052919050565b60006001600160401b0382111561120c5761120c6111ad565b50601f01601f191660200190565b60006020828403121561122c57600080fd5b81356001600160401b0381111561124257600080fd5b8201601f8101841361125357600080fd5b8035611266611261826111f3565b6111c3565b81815285602083850101111561127b57600080fd5b81602084016020830137600091810160200191909152949350505050565b60005b838110156112b457818101518382015260200161129c565b50506000910152565b600081518084526112d5816020860160208601611299565b601f01601f19169290920160200192915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561133e57603f1988860301845261132c8583516112bd565b94509285019290850190600101611310565b5092979650505050505050565b60208152600061135e60208301846112bd565b9392505050565b60008060006040848603121561137a57600080fd5b83356001600160401b0381111561139057600080fd5b61139c86828701611124565b909790965060209590950135949350505050565b6000602082840312156113c257600080fd5b81356001600160a01b038116811461135e57600080fd5b82151581526040602082015260006113f460408301846112bd565b949350505050565b60008083601f84011261140e57600080fd5b5081356001600160401b0381111561142557600080fd5b6020830191508360208260051b850101111561116557600080fd5b6000806000806040858703121561145657600080fd5b84356001600160401b038082111561146d57600080fd5b611479888389016113fc565b9096509450602087013591508082111561149257600080fd5b5061149f878288016113fc565b95989497509550505050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610350576103506114ab565b6000826114f557634e487b7160e01b600052601260045260246000fd5b500490565b8183823760009101908152919050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b6020815260006113f460208301848661150a565b600181811c9082168061155b57607f821691505b60208210810361157b57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156115cb57600081815260208120601f850160051c810160208610156115a85750805b601f850160051c820191505b818110156115c7578281556001016115b4565b5050505b505050565b6001600160401b038311156115e7576115e76111ad565b6115fb836115f58354611547565b83611581565b6000601f84116001811461162f57600085156116175750838201355b600019600387901b1c1916600186901b178355610f02565b600083815260209020601f19861690835b828110156116605786850135825560209485019460019092019101611640565b508682101561167d5760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b6040815260006116a360408301858761150a565b9050826020830152949350505050565b6000602082840312156116c557600080fd5b8151801515811461135e57600080fd5b60006001600160401b038211156116ee576116ee6111ad565b5060051b60200190565b600082601f83011261170957600080fd5b81516020611719611261836116d5565b82815260059290921b8401810191818101908684111561173857600080fd5b8286015b84811015611753578051835291830191830161173c565b509695505050505050565b600080604080848603121561177257600080fd5b83516001600160401b038082111561178957600080fd5b818601915086601f83011261179d57600080fd5b815160206117ad611261836116d5565b82815260059290921b8401810191818101908a8411156117cc57600080fd5b8286015b8481101561183d578051868111156117e85760008081fd5b8701603f81018d136117fa5760008081fd5b8481015161180a611261826111f3565b8181528e8b83850101111561181f5760008081fd5b61182e828883018d8601611299565b855250509183019183016117d0565b509189015191975090945050508083111561185757600080fd5b5050611865858286016116f8565b9150509250929050565b634e487b7160e01b600052603260045260246000fd5b60008251611897818460208701611299565b9190910192915050565b80820180821115610350576103506114ab565b6000600182016118c6576118c66114ab565b5060010190565b6000808335601e198436030181126118e457600080fd5b8301803591506001600160401b038211156118fe57600080fd5b60200191503681900382131561116557600080fd5b81516001600160401b0381111561192c5761192c6111ad565b6119408161193a8454611547565b84611581565b602080601f831160018114611975576000841561195d5750858301515b600019600386901b1c1916600185901b1785556115c7565b600085815260208120601f198616915b828110156119a457888601518255948401946001909101908401611985565b50858210156119c25787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212200c9f60b8d12945b7afa2b5faa5f9cd6b153402d45f433de8381e93144aade7c664736f6c63430008140033",
  "devdoc": {
    "details": "This is the CORE INNOVATION of EquiBaskets.      Unlike single-asset oracles that just return a price, this oracle      COMPUTES FINANCIAL MEANING by:      1. Reading basket composition from BasketRegistry      2. Fetching price for each underlying asset      3. Computing weighted average basket price       For the hackathon, asset prices are hardcoded on-chain in USD format.      This module is intentionally designed to be replaced later with a      real oracle integration (e.g., Pyth, Chainlink).       All prices are stored and returned in 1e18 format.      For example, $100 = 100 * 1e18 = 100000000000000000000       The MNT/USD price is also stored here for collateral valuation.",
    "errors": {
      "OwnableInvalidOwner(address)": [
        {
          "details": "The owner is not a valid owner account. (eg. `address(0)`)"
        }
      ],
      "OwnableUnauthorizedAccount(address)": [
        {
          "details": "The caller account is not authorized to perform an operation."
        }
      ]
    },
    "kind": "dev",
    "methods": {
      "batchSetAssetPrices(string[],uint256[])": {
        "params": {
          "assetIds": "Array of asset identifiers",
          "prices": "Array of new prices in 1e18 format"
        }
      },
      "constructor": {
        "params": {
          "_basketRegistry": "Address of the BasketRegistry contract"
        }
      },
      "getAllRegisteredAssets()": {
        "returns": {
          "_0": "Array of asset identifier strings"
        }
      },
      "getAssetPrice(string)": {
        "params": {
          "assetId": "Asset identifier"
        },
        "returns": {
          "price": "Asset price in 1e18 USD format"
        }
      },
      "getBasketPrice(uint256)": {
        "details": "This is the CORE function of EquiBaskets oracle.      It computes the basket price by:      1. Reading composition from BasketRegistry      2. Fetching price for each asset      3. Computing weighted average: sum(price[i] * weight[i]) / 10000",
        "params": {
          "basketId": "The basket ID to get price for"
        },
        "returns": {
          "price": "Basket price in 1e18 USD format"
        }
      },
      "getMntFromUsdValue(uint256)": {
        "params": {
          "usdValue": "USD value in 1e18 format"
        },
        "returns": {
          "mntAmount": "MNT amount in 1e18 format"
        }
      },
      "getMntValue(uint256)": {
        "params": {
          "mntAmount": "Amount of MNT tokens (in 1e18)"
        },
        "returns": {
          "usdValue": "USD value in 1e18 format"
        }
      },
      "getRegisteredAssetCount()": {
        "returns": {
          "_0": "Count of registered assets"
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "registerAsset(string,uint256)": {
        "params": {
          "assetId": "Asset identifier (e.g., \"AAPL\", \"GOLD\")",
          "price": "Initial price in 1e18 format"
        }
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "setAssetPrice(string,uint256)": {
        "params": {
          "assetId": "Asset identifier",
          "newPrice": "New price in 1e18 format"
        }
      },
      "setMntPrice(uint256)": {
        "params": {
          "newPrice": "New MNT/USD price in 1e18 format"
        }
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "validateBasketPrices(uint256)": {
        "params": {
          "basketId": "The basket ID to check"
        },
        "returns": {
          "missingAsset": "The first missing asset (if any)",
          "valid": "True if all asset prices are available"
        }
      }
    },
    "stateVariables": {
      "mntUsdPrice": {
        "details": "Used for calculating collateral value in the vault"
      }
    },
    "title": "BasketOracle",
    "version": 1
  },
  "userdoc": {
    "errors": {
      "AssetAlreadyRegistered(string)": [
        {
          "notice": "Thrown when asset is already registered"
        }
      ],
      "AssetPriceNotAvailable(string)": [
        {
          "notice": "Thrown when asset price is not available"
        }
      ],
      "BasketDoesNotExist()": [
        {
          "notice": "Thrown when basket doesn't exist"
        }
      ],
      "MntPriceNotSet()": [
        {
          "notice": "Thrown when MNT price is not set"
        }
      ],
      "ZeroPrice()": [
        {
          "notice": "Thrown when price is zero"
        }
      ]
    },
    "events": {
      "AssetPriceUpdated(string,uint256,uint256)": {
        "notice": "Emitted when an asset price is updated"
      },
      "AssetRegistered(string,uint256)": {
        "notice": "Emitted when a new asset is registered"
      },
      "MntPriceUpdated(uint256,uint256)": {
        "notice": "Emitted when MNT/USD price is updated"
      }
    },
    "kind": "user",
    "methods": {
      "assetPrices(string)": {
        "notice": "Mapping from asset identifier to USD price (1e18 format)"
      },
      "basketRegistry()": {
        "notice": "Reference to the BasketRegistry for reading composition"
      },
      "batchSetAssetPrices(string[],uint256[])": {
        "notice": "Batch update multiple asset prices"
      },
      "constructor": {
        "notice": "Initialize the BasketOracle with a registry reference"
      },
      "getAllRegisteredAssets()": {
        "notice": "Get all registered asset identifiers"
      },
      "getAssetPrice(string)": {
        "notice": "Get individual asset price"
      },
      "getBasketPrice(uint256)": {
        "notice": "Get the weighted price of a basket"
      },
      "getMntFromUsdValue(uint256)": {
        "notice": "Get the MNT amount equivalent to a USD value"
      },
      "getMntValue(uint256)": {
        "notice": "Get MNT to USD value"
      },
      "getRegisteredAssetCount()": {
        "notice": "Get the number of registered assets"
      },
      "isAssetRegistered(string)": {
        "notice": "Mapping to check if an asset is registered"
      },
      "mntUsdPrice()": {
        "notice": "MNT/USD price in 1e18 format"
      },
      "registerAsset(string,uint256)": {
        "notice": "Register a new asset with initial price"
      },
      "registeredAssets(uint256)": {
        "notice": "List of all registered asset identifiers"
      },
      "setAssetPrice(string,uint256)": {
        "notice": "Update the price of an asset"
      },
      "setMntPrice(uint256)": {
        "notice": "Update MNT/USD price"
      },
      "validateBasketPrices(uint256)": {
        "notice": "Check if a basket has all required asset prices"
      }
    },
    "notice": "Oracle for computing basket prices from individual asset prices",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 2770,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "assetPrices",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_string_memory_ptr,t_uint256)"
      },
      {
        "astId": 2774,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "registeredAssets",
        "offset": 0,
        "slot": "2",
        "type": "t_array(t_string_storage)dyn_storage"
      },
      {
        "astId": 2779,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "isAssetRegistered",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_string_memory_ptr,t_bool)"
      },
      {
        "astId": 2782,
        "contract": "contracts/BasketOracle.sol:BasketOracle",
        "label": "mntUsdPrice",
        "offset": 0,
        "slot": "4",
        "type": "t_uint256"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_string_storage)dyn_storage": {
        "base": "t_string_storage",
        "encoding": "dynamic_array",
        "label": "string[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_string_memory_ptr,t_bool)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_string_memory_ptr,t_uint256)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_string_memory_ptr": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}